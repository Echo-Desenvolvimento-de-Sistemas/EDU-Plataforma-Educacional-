import{c as ue,j as t,H as ye,L as Ne}from"./app-BlZNpJaz.js";import{P as _e,A as ve}from"./app-layout-vfDevXcM.js";import{B as be}from"./button-BFaAQ1F0.js";import{b as pe,e as P,c as le,a as we,d as Se,T as ke}from"./table-DRoYhqJ6.js";import{A as Ae}from"./arrow-left-C_Tsc45O.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";function et(l){const e=ue.c(89),{student:T,classRoom:s,periods:i,results:re,schoolName:fe,logoUrl:O}=l,n=fe===void 0?"Edu Escola":fe;let $,C;e[0]===Symbol.for("react.memo_cache_sentinel")?($={title:"Secretaria",href:"/secretaria/dashboard"},C={title:"Notas e Boletins",href:"/secretaria/grades"},e[0]=$,e[1]=C):($=e[0],C=e[1]);const ie=`/secretaria/grades/${s.id}`;let c;e[2]!==s.name||e[3]!==ie?(c={title:s.name,href:ie},e[2]=s.name,e[3]=ie,e[4]=c):c=e[4];let H;e[5]===Symbol.for("react.memo_cache_sentinel")?(H={title:"Boletim",href:"#"},e[5]=H):H=e[5];let M;e[6]!==c?(M=[$,C,c,H],e[6]=c,e[7]=M):M=e[7];const ne=M;let z;if(e[8]!==re){const a=new Map;re.forEach(r=>{a.has(r.subject_id)||a.set(r.subject_id,{name:r.subject.name,grades:{}}),a.get(r.subject_id).grades[r.grading_period_id]=parseFloat(r.grade).toFixed(1)}),z=Array.from(a.values()),e[8]=re,e[9]=z}else z=e[9];const V=z,ge=Fe,ce=`Boletim - ${T.name}`;let o;e[10]!==ce?(o=t.jsx(ye,{title:ce}),e[10]=ce,e[11]=o):o=e[11];const oe=`/secretaria/grades/${s.id}`;let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Ae,{className:"h-4 w-4"}),e[12]=G):G=e[12];let d;e[13]!==oe?(d=t.jsx(be,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Ne,{href:oe,children:G})}),e[13]=oe,e[14]=d):d=e[14];let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Boletim Escolar"}),t.jsx("p",{className:"text-muted-foreground",children:"Visualização de notas e desempenho."})]}),e[15]=I):I=e[15];let m;e[16]!==d?(m=t.jsxs("div",{className:"flex items-center gap-4",children:[d,I]}),e[16]=d,e[17]=m):m=e[17];let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("div",{className:"flex gap-2",children:t.jsxs(be,{variant:"outline",onClick:ge,children:[t.jsx(_e,{className:"mr-2 h-4 w-4"}),"Imprimir / Salvar PDF"]})}),e[18]=U):U=e[18];let x;e[19]!==m?(x=t.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[m,U]}),e[19]=m,e[20]=x):x=e[20];let p;e[21]!==O||e[22]!==n?(p=O?t.jsx("img",{src:O,alt:"Logo",className:"max-h-20 w-auto object-contain print-color-adjust-exact"}):t.jsx("div",{className:"h-16 w-16 bg-black text-white rounded-lg flex items-center justify-center font-bold text-2xl print:bg-black print:text-white print-color-adjust-exact",children:n.charAt(0)}),e[21]=O,e[22]=n,e[23]=p):p=e[23];let f;e[24]!==n?(f=t.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wide",children:n}),e[24]=n,e[25]=f):f=e[25];let q;e[26]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("p",{className:"text-sm text-gray-600",children:"Sistema de Gestão Escolar"}),e[26]=q):q=e[26];let h;e[27]!==f?(h=t.jsxs("div",{children:[f,q]}),e[27]=f,e[28]=h):h=e[28];let b;e[29]!==p||e[30]!==h?(b=t.jsxs("div",{className:"flex items-center gap-4",children:[p,h]}),e[29]=p,e[30]=h,e[31]=b):b=e[31];let J;e[32]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("h2",{className:"text-xl font-bold",children:"Boletim Escolar"}),e[32]=J):J=e[32];let g;e[33]!==s.academic_year.year?(g=t.jsxs("div",{className:"text-right",children:[J,t.jsxs("p",{className:"text-gray-600",children:["Ano Letivo: ",s.academic_year.year]})]}),e[33]=s.academic_year.year,e[34]=g):g=e[34];let j;e[35]!==b||e[36]!==g?(j=t.jsxs("div",{className:"hidden print:flex justify-between items-center border-b pb-6 mb-8",children:[b,g]}),e[35]=b,e[36]=g,e[37]=j):j=e[37];let K;e[38]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold uppercase tracking-wide",children:"Edu Escola"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Relatório de Desempenho Acadêmico"})]}),e[38]=K):K=e[38];let u;e[39]!==s.academic_year.year?(u=t.jsx("div",{className:"print:hidden border-b pb-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-start",children:[K,t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-sm font-medium",children:s.academic_year.year})})]})}),e[39]=s.academic_year.year,e[40]=u):u=e[40];let Q;e[41]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-gray-500 uppercase text-xs font-semibold mb-1",children:"Aluno"}),e[41]=Q):Q=e[41];let y;e[42]!==T.name?(y=t.jsx("p",{className:"font-bold text-lg",children:T.name}),e[42]=T.name,e[43]=y):y=e[43];const de=T.registration_number||"-";let N;e[44]!==de?(N=t.jsxs("p",{className:"text-gray-500",children:["Matrícula: ",de]}),e[44]=de,e[45]=N):N=e[45];let _;e[46]!==y||e[47]!==N?(_=t.jsxs("div",{children:[Q,y,N]}),e[46]=y,e[47]=N,e[48]=_):_=e[48];let W;e[49]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("p",{className:"text-gray-500 uppercase text-xs font-semibold mb-1",children:"Enturmação"}),e[49]=W):W=e[49];let v;e[50]!==s.name?(v=t.jsx("p",{className:"font-bold text-lg",children:s.name}),e[50]=s.name,e[51]=v):v=e[51];let w;e[52]!==s.grade.name?(w=t.jsx("p",{className:"text-gray-500",children:s.grade.name}),e[52]=s.grade.name,e[53]=w):w=e[53];let S;e[54]!==v||e[55]!==w?(S=t.jsxs("div",{className:"text-right",children:[W,v,w]}),e[54]=v,e[55]=w,e[56]=S):S=e[56];let k;e[57]!==_||e[58]!==S?(k=t.jsxs("div",{className:"mb-8 grid grid-cols-2 gap-4 text-sm p-4 bg-gray-50 rounded-lg border print:bg-transparent print:border-gray-200",children:[_,S]}),e[57]=_,e[58]=S,e[59]=k):k=e[59];let X;e[60]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(le,{className:"w-[30%] text-black font-bold",children:"Disciplina"}),e[60]=X):X=e[60];let A;e[61]!==i?(A=i.map(De),e[61]=i,e[62]=A):A=e[62];let Y,Z;e[63]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(le,{className:"text-center text-black font-bold border-l print:border-l print:border-gray-200",children:"Média Final"}),Z=t.jsx(le,{className:"text-center text-black font-bold",children:"Resultado"}),e[63]=Y,e[64]=Z):(Y=e[63],Z=e[64]);let E;e[65]!==A?(E=t.jsx(we,{className:"bg-gray-50 print:bg-gray-100 print-color-adjust-exact",children:t.jsxs(pe,{children:[X,A,Y,Z]})}),e[65]=A,e[66]=E):E=e[66];let R;e[67]!==i||e[68]!==V?(R=V.length>0?V.map((a,r)=>{const me=Object.values(a.grades).map(Re),je=me.reduce(Ee,0),ae=me.length>0?(je/me.length).toFixed(1):"-",he=ae!=="-"&&parseFloat(ae)>=6;return t.jsxs(pe,{className:"print:border-gray-200",children:[t.jsx(P,{className:"font-medium text-black",children:a.name}),i.map(xe=>t.jsx(P,{className:"text-center text-black",children:a.grades[xe.id]!==void 0?parseFloat(a.grades[xe.id]).toFixed(1):"-"},xe.id)),t.jsx(P,{className:"text-center font-bold text-black border-l border-gray-100 print:border-gray-200",children:ae}),t.jsx(P,{className:"text-center text-black",children:ae!=="-"&&t.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold print:border print:border-black print:px-1 print:py-0 ${he?"bg-green-100 text-green-800":"bg-red-100 text-red-800"} print-color-adjust-exact`,children:he?"APROVADO":"REPROVADO"})})]},r)}):t.jsx(pe,{children:t.jsx(P,{colSpan:i.length+3,className:"h-24 text-center",children:"Nenhuma nota lançada."})}),e[67]=i,e[68]=V,e[69]=R):R=e[69];let D;e[70]!==R?(D=t.jsx(Se,{children:R}),e[70]=R,e[71]=D):D=e[71];let F;e[72]!==E||e[73]!==D?(F=t.jsx("div",{className:"rounded-md border overflow-hidden print:border-gray-300",children:t.jsxs(ke,{children:[E,D]})}),e[72]=E,e[73]=D,e[74]=F):F=e[74];let ee;e[75]===Symbol.for("react.memo_cache_sentinel")?(ee=new Date().toLocaleDateString(),e[75]=ee):ee=e[75];let te;e[76]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs("div",{className:"mt-12 pt-8 border-t text-center text-xs text-gray-500 hidden print:flex justify-between items-center",children:[t.jsxs("p",{children:["Documento gerado em ",ee," às ",new Date().toLocaleTimeString()]}),t.jsx("p",{children:"Edu Escola - Sistema de Gestão Acadêmica"})]}),e[76]=te):te=e[76];let B;e[77]!==j||e[78]!==u||e[79]!==k||e[80]!==F?(B=t.jsxs("div",{className:"bg-white p-8 rounded-xl border shadow-sm print:shadow-none print:border-none print:fixed print:top-0 print:left-0 print:w-full print:h-full print:z-[9999] print:bg-white print:m-0 print:rounded-none overflow-visible",children:[j,u,k,F,te]}),e[77]=j,e[78]=u,e[79]=k,e[80]=F,e[81]=B):B=e[81];let L;e[82]!==x||e[83]!==B?(L=t.jsxs("div",{className:"flex flex-col gap-6 p-4 max-w-5xl mx-auto w-full print:p-0",children:[x,B]}),e[82]=x,e[83]=B,e[84]=L):L=e[84];let se;return e[85]!==ne||e[86]!==o||e[87]!==L?(se=t.jsxs(ve,{breadcrumbs:ne,children:[o,L]}),e[85]=ne,e[86]=o,e[87]=L,e[88]=se):se=e[88],se}function Ee(l,e){return l+e}function Re(l){return parseFloat(l)}function De(l){return t.jsx(le,{className:"text-center text-black font-bold",children:l.name},l.id)}function Fe(){window.print()}export{et as default};
