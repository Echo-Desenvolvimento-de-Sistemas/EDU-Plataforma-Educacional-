import{c as ee,e as te,r as G,j as t,b as se,H as re,L as d}from"./app-BlZNpJaz.js";import{a as c,h as ae,P as ie,A as le}from"./app-layout-vfDevXcM.js";import{I as ne}from"./input-ClKI_C3W.js";import{B as H}from"./button-BFaAQ1F0.js";import{C as oe,a as ce,b as de,c as me}from"./card-DE5xUgg4.js";import{B as O}from"./badge-hQq2_SSh.js";import{u as xe}from"./use-debounce-xlyvVL26.js";import{c as pe,d as he,b as fe,D as ge,e as be,f as ue}from"./dialog-CCWmf-Wy.js";import{P as je}from"./plus-CcX2yXqX.js";import{S as ve}from"./search-BKAEKSF4.js";import{P as W}from"./power-CbH9aRCg.js";import{E as J}from"./eye-B6GV-d21.js";import{S as K}from"./square-pen-DkkVFjNN.js";import{T as M}from"./trash-2-C65_v2RJ.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";const ye=[{title:"Dashboard Admin",href:"/admin/dashboard"},{title:"Responsáveis",href:"/admin/guardians"}];function et(Q){const e=ee.c(61),{guardians:o,filters:U}=Q,{settings:r}=te().props,[y,X]=G.useState(U.search||""),[a,q]=G.useState(null),[l,L]=G.useState(!1),N=xe(y,300);let w;e[0]!==o.data?(w=i=>{L(!0);const s=o.data.find(Z=>Z.id===i);s&&q(s),L(!1)},e[0]=o.data,e[1]=w):w=e[1];const n=w,Y=Ne;let k,S;e[2]!==N?(k=()=>{se.get(c.guardians.index.url(),{search:N},{preserveState:!0,replace:!0})},S=[N],e[2]=N,e[3]=k,e[4]=S):(k=e[3],S=e[4]),G.useEffect(k,S);let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(re,{title:"Responsáveis"}),e[5]=_):_=e[5];let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Responsáveis"}),e[6]=C):C=e[6];let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E=c.guardians.create.url(),e[7]=E):E=e[7];let P;e[8]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[C,t.jsxs(d,{href:E,className:"flex items-center justify-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",children:[t.jsx(je,{className:"h-4 w-4"}),"Novo Responsável"]})]}),e[8]=P):P=e[8];let D;e[9]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(ve,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500 dark:text-gray-400"}),e[9]=D):D=e[9];let R;e[10]===Symbol.for("react.memo_cache_sentinel")?(R=i=>X(i.target.value),e[10]=R):R=e[10];let m;e[11]!==y?(m=t.jsx("div",{className:"w-full sm:max-w-md",children:t.jsxs("div",{className:"relative",children:[D,t.jsx(ne,{type:"search",placeholder:"Buscar por nome, CPF ou email...",className:"pl-9",value:y,onChange:R})]})}),e[11]=y,e[12]=m):m=e[12];let x;if(e[13]!==o.data||e[14]!==n||e[15]!==l){let i;e[17]!==n||e[18]!==l?(i=s=>t.jsxs(oe,{className:s.active?"":"opacity-60",children:[t.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(de,{className:"text-sm font-medium",children:s.name}),t.jsx(O,{variant:s.active?"secondary":"destructive",children:s.active?"Ativo":"Inativo"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Email: ",s.email||"-"]}),t.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:["CPF: ",s.cpf]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(d,{href:c.guardians.toggleStatus.url(s.id),method:"patch",as:"button",preserveScroll:!0,className:`inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 w-9 ${s.active?"text-green-600":"text-gray-400"}`,children:t.jsx(W,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>n(s.id),disabled:l,title:"Visualizar Ficha",children:t.jsx(J,{className:"h-4 w-4"})}),t.jsx(d,{href:c.guardians.edit.url(s.id),className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 w-9 text-indigo-600 hover:text-indigo-900",children:t.jsx(K,{className:"h-4 w-4"})}),t.jsx(d,{href:c.guardians.destroy.url(s.id),method:"delete",as:"button",className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-red-100 hover:text-red-600 h-9 w-9",children:t.jsx(M,{className:"h-4 w-4"})})]})]})]},s.id),e[17]=n,e[18]=l,e[19]=i):i=e[19],x=o.data.map(i),e[13]=o.data,e[14]=n,e[15]=l,e[16]=x}else x=e[16];let p;e[20]!==x?(p=t.jsx("div",{className:"grid gap-4 sm:hidden overflow-y-auto",children:x}),e[20]=x,e[21]=p):p=e[21];let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Nome"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Email"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"CPF"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Telefone"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Status"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Ações"})]})}),e[22]=A):A=e[22];let h;if(e[23]!==o.data||e[24]!==n||e[25]!==l){let i;e[27]!==n||e[28]!==l?(i=s=>t.jsxs("tr",{className:s.active?"":"bg-gray-50 dark:bg-gray-800/50",children:[t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900 dark:text-gray-100",children:s.name}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:s.email||"-"}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:s.cpf}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:s.phone||"-"}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:t.jsx(O,{variant:s.active?"secondary":"destructive",children:s.active?"Ativo":"Inativo"})}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(d,{href:c.guardians.toggleStatus.url(s.id),method:"patch",as:"button",preserveScroll:!0,title:s.active?"Desativar":"Ativar",className:`transition-colors p-2 ${s.active?"text-green-600 hover:text-green-900":"text-gray-400 hover:text-gray-600"}`,children:t.jsx(W,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>n(s.id),disabled:l,title:"Visualizar Ficha",children:t.jsx(J,{className:"h-4 w-4"})}),t.jsx(d,{href:c.guardians.edit.url(s.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 p-2",children:t.jsx(K,{className:"h-4 w-4"})}),t.jsx(d,{href:c.guardians.destroy.url(s.id),method:"delete",as:"button",className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-2",children:t.jsx(M,{className:"h-4 w-4"})})]})})]},s.id),e[27]=n,e[28]=l,e[29]=i):i=e[29],h=o.data.map(i),e[23]=o.data,e[24]=n,e[25]=l,e[26]=h}else h=e[26];let f;e[30]!==h?(f=t.jsx("div",{className:"hidden sm:block flex-1 overflow-auto rounded-md border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[A,t.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900",children:h})]})}),e[30]=h,e[31]=f):f=e[31];const V=!!a;let I;e[32]===Symbol.for("react.memo_cache_sentinel")?(I=i=>!i&&q(null),e[32]=I):I=e[32];let F,T;e[33]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(pe,{children:"Ficha do Responsável"}),T=t.jsx(he,{className:"sr-only",children:"Detalhes do Responsável"}),e[33]=F,e[34]=T):(F=e[33],T=e[34]);let $;e[35]===Symbol.for("react.memo_cache_sentinel")?($=t.jsxs(fe,{className:"print:hidden flex flex-row items-center justify-between",children:[F,T,t.jsxs(H,{variant:"outline",size:"sm",onClick:Y,className:"ml-auto",children:[t.jsx(ie,{className:"mr-2 h-4 w-4"}),"Imprimir"]})]}),e[35]=$):$=e[35];let g;e[36]!==a?(g=a&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nome Completo"}),t.jsx("div",{className:"text-lg font-bold",children:a.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"CPF"}),t.jsx("div",{className:"text-lg",children:a.cpf})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),t.jsx("div",{className:"text-lg",children:a.email||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Telefone/WhatsApp"}),t.jsx("div",{className:"text-lg",children:a.phone||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),t.jsx("div",{className:"mt-1",children:t.jsx(O,{variant:a.active?"secondary":"destructive",children:a.active?"Ativo":"Inativo"})})]})]})}),e[36]=a,e[37]=g):g=e[37];let z;e[38]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(ge,{className:"sm:justify-between print:hidden"}),e[38]=z):z=e[38];let b;e[39]!==g?(b=t.jsxs(be,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:hidden dark:bg-gray-900 dark:text-gray-100",children:[$,g,z]}),e[39]=g,e[40]=b):b=e[40];let u;e[41]!==V||e[42]!==b?(u=t.jsx(ue,{open:V,onOpenChange:I,children:b}),e[41]=V,e[42]=b,e[43]=u):u=e[43];let j;e[44]!==m||e[45]!==p||e[46]!==f||e[47]!==u?(j=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-hidden rounded-xl p-4 print:hidden",children:[P,m,p,f,u]}),e[44]=m,e[45]=p,e[46]=f,e[47]=u,e[48]=j):j=e[48];let v;e[49]!==r?.app_name||e[50]!==r?.school_address||e[51]!==r?.school_cep||e[52]!==r?.school_city||e[53]!==r?.school_name||e[54]!==r?.school_phone||e[55]!==r?.school_state||e[56]!==a?(v=a&&t.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:z-[9999] print:h-screen print:w-screen print:overflow-visible",children:t.jsxs("div",{className:"print:p-8",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b-2 border-black pb-4",children:[t.jsx("div",{className:"w-24 h-24 flex items-center justify-center shrink-0",children:t.jsx(ae,{className:"w-full h-full text-black"})}),t.jsxs("div",{className:"flex-1 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold uppercase",children:r?.school_name||r?.app_name||"Centro Educacional Rosa de Sharon"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Educação Infantil e Ensino Fundamental"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r?.school_address||"Endereço não configurado",(r?.school_city||r?.school_state)&&` - ${r?.school_city||""}/${r?.school_state||""}`,r?.school_cep&&` - CEP: ${r?.school_cep}`,r?.school_phone&&` - Tel: ${r?.school_phone}`]})]}),t.jsx("div",{className:"w-24 shrink-0 text-right",children:t.jsxs("div",{className:"border border-black p-2 text-center",children:[t.jsx("p",{className:"text-[10px] uppercase font-bold",children:"Registro Nº"}),t.jsx("p",{className:"text-lg font-bold",children:a.id.toString().padStart(4,"0")})]})})]}),t.jsx("div",{className:"text-center mb-6",children:t.jsx("h2",{className:"text-xl font-bold uppercase bg-gray-200 py-1 print:bg-gray-200 print:text-black",children:"Ficha Cadastral do Responsável"})}),t.jsxs("div",{className:"space-y-6 text-sm print:text-xs",children:[t.jsxs("section",{className:"print:break-inside-avoid relative",children:[t.jsx("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2 print:text-black print:bg-gray-200 print:p-1 print:uppercase print:text-sm print:mb-2 print:border print:border-gray-300",children:"Dados Pessoais e Contato"}),t.jsxs("div",{className:"grid grid-cols-2 gap-y-2 print:gap-y-0.5 gap-x-4",children:[t.jsxs("div",{className:"print:flex print:border-b print:border-dotted print:border-gray-300 print:pb-0.5 col-span-2",children:[t.jsx("span",{className:"font-bold mr-2 print:w-24",children:"Nome Completo:"}),t.jsx("span",{className:"uppercase",children:a.name})]}),t.jsxs("div",{className:"print:flex print:border-b print:border-dotted print:border-gray-300 print:pb-0.5",children:[t.jsx("span",{className:"font-bold mr-2 print:w-24",children:"CPF:"}),t.jsx("span",{children:a.cpf})]}),t.jsxs("div",{className:"print:flex print:border-b print:border-dotted print:border-gray-300 print:pb-0.5",children:[t.jsx("span",{className:"font-bold mr-2 print:w-24",children:"Telefone:"}),t.jsx("span",{children:a.phone||"-"})]}),t.jsxs("div",{className:"print:flex print:border-b print:border-dotted print:border-gray-300 print:pb-0.5 col-span-2",children:[t.jsx("span",{className:"font-bold mr-2 print:w-24",children:"Email:"}),t.jsx("span",{children:a.email||"-"})]}),t.jsxs("div",{className:"print:flex print:border-b print:border-dotted print:border-gray-300 print:pb-0.5 col-span-2",children:[t.jsx("span",{className:"font-bold mr-2 print:w-24",children:"Status no Sistema:"}),t.jsx("span",{children:a.active?"ATIVO":"INATIVO"})]})]})]}),t.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-300 text-center text-xs text-gray-500",children:[t.jsx("p",{className:"mb-8",children:"Declaro que as informações acima são verdadeiras."}),t.jsx("div",{className:"w-1/2 mx-auto border-t border-black pt-2",children:"Assinatura do Responsável"})]})]}),t.jsxs("div",{className:"flex justify-between mt-8 text-[10px] text-gray-400",children:[t.jsx("span",{children:"Sistema de Gestão Escolar - Rosa de Sharon"}),t.jsxs("span",{children:["Impresso em: ",new Date().toLocaleString("pt-BR")]})]})]})}),e[49]=r?.app_name,e[50]=r?.school_address,e[51]=r?.school_cep,e[52]=r?.school_city,e[53]=r?.school_name,e[54]=r?.school_phone,e[55]=r?.school_state,e[56]=a,e[57]=v):v=e[57];let B;return e[58]!==j||e[59]!==v?(B=t.jsxs(le,{breadcrumbs:ye,children:[_,j,v]}),e[58]=j,e[59]=v,e[60]=B):B=e[60],B}function Ne(){window.print()}export{et as default};
