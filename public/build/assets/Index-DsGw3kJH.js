import{c as xe,r as Z,u as te,j as s,H as fe,L as he}from"./app-BlZNpJaz.js";import{C as ue,a as je,b as ge,c as Ce}from"./card-DE5xUgg4.js";import{B as o}from"./button-BFaAQ1F0.js";import{I as W}from"./input-ClKI_C3W.js";import{L as J}from"./label-D4nWcODD.js";import{D as ae,a as ve,b as re,c as ie,d as le,e as oe,f as ne}from"./dialog-CCWmf-Wy.js";import{A as Ne}from"./app-layout-vfDevXcM.js";import{ComposeModal as ye}from"./ComposeModal-BpEauYpC.js";import{S as ce}from"./settings-DDioBNBR.js";import{S as be}from"./send-CD005u8Q.js";import{P as Se}from"./plus-CcX2yXqX.js";import{R as me}from"./radio-DX7XePgN.js";import{U as de}from"./users-CYmdu12r.js";/* empty css            */import"./utils-CTsRgsKi.js";import"./index-BSNktiLJ.js";import"./index-ePvy9ijt.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";import"./select-wa9XAM0x.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";import"./check-C5YBzlMP.js";import"./textarea-BfFOsk1d.js";import"./loader-circle-DIuL06p2.js";function is(pe){const e=xe.c(74),{channels:n}=pe,[K,ee]=Z.useState(!1),[Q,se]=Z.useState(!1),[l,A]=Z.useState(null);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w={name:"",type:"BROADCAST",icon:null},e[0]=w):w=e[0];const t=te(w);let O;e[1]===Symbol.for("react.memo_cache_sentinel")?(O={name:"",icon:null,_method:"put"},e[1]=O):O=e[1];const r=te(O);let E;e[2]!==t?(E=a=>{a.preventDefault(),t.post("/admin/agenda",{forceFormData:!0,onSuccess:()=>{ee(!1),t.reset()}})},e[2]=t,e[3]=E):E=e[3];const V=E;let F;e[4]!==r||e[5]!==l?(F=a=>{a.preventDefault(),l&&r.post(`/admin/agenda/${l.id}`,{forceFormData:!0,onSuccess:()=>{A(null),r.reset()}})},e[4]=r,e[5]=l,e[6]=F):F=e[6];const X=F;let I;e[7]!==r?(I=a=>{A(a),r.setData({name:a.name,icon:null,_method:"put"})},e[7]=r,e[8]=I):I=e[8];const _=I;let R,T;e[9]===Symbol.for("react.memo_cache_sentinel")?(R=[{title:"Agenda Digital",href:"/admin/agenda"}],T=s.jsx(fe,{title:"Agenda Digital"}),e[9]=R,e[10]=T):(R=e[9],T=e[10]);let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Agenda Digital"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie canais e mensagens massivas."})]}),e[11]=k):k=e[11];let B;e[12]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(he,{href:"/admin/agenda/settings",children:s.jsx(o,{variant:"outline",size:"icon",children:s.jsx(ce,{className:"h-4 w-4"})})}),e[12]=B):B=e[12];let L;e[13]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsxs(o,{onClick:()=>se(!0),children:[s.jsx(be,{className:"mr-2 h-4 w-4"}),"Enviar Mensagem"]}),e[13]=L):L=e[13];let H;e[14]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(ve,{asChild:!0,children:s.jsxs(o,{variant:"outline",children:[s.jsx(Se,{className:"mr-2 h-4 w-4"}),"Novo Canal"]})}),e[14]=H):H=e[14];let z;e[15]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs(re,{children:[s.jsx(ie,{children:"Criar Canal de Transmissão"}),s.jsx(le,{children:"Crie um canal para enviar mensagens a todos os usuários (ex: Avisos Gerais)."})]}),e[15]=z):z=e[15];let M;e[16]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(J,{htmlFor:"create-name",children:"Nome do Canal"}),e[16]=M):M=e[16];let c;e[17]!==t?(c=a=>t.setData("name",a.target.value),e[17]=t,e[18]=c):c=e[18];let m;e[19]!==t.data.name||e[20]!==c?(m=s.jsx(W,{id:"create-name",value:t.data.name,onChange:c,placeholder:"Ex: Avisos Importantes",required:!0}),e[19]=t.data.name,e[20]=c,e[21]=m):m=e[21];let d;e[22]!==t.errors.name?(d=t.errors.name&&s.jsx("p",{className:"text-sm text-destructive",children:t.errors.name}),e[22]=t.errors.name,e[23]=d):d=e[23];let p;e[24]!==m||e[25]!==d?(p=s.jsxs("div",{className:"space-y-2",children:[M,m,d]}),e[24]=m,e[25]=d,e[26]=p):p=e[26];let q;e[27]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(J,{htmlFor:"create-icon",children:"Ícone (Opcional)"}),e[27]=q):q=e[27];let x;e[28]!==t?(x=s.jsx(W,{id:"create-icon",type:"file",accept:"image/*",onChange:a=>t.setData("icon",a.target.files?a.target.files[0]:null)}),e[28]=t,e[29]=x):x=e[29];let f;e[30]!==t.errors.icon?(f=t.errors.icon&&s.jsx("p",{className:"text-sm text-destructive",children:t.errors.icon}),e[30]=t.errors.icon,e[31]=f):f=e[31];let h;e[32]!==x||e[33]!==f?(h=s.jsxs("div",{className:"space-y-2",children:[q,x,f]}),e[32]=x,e[33]=f,e[34]=h):h=e[34];let u;e[35]!==p||e[36]!==h?(u=s.jsxs("div",{className:"grid gap-4 py-4",children:[p,h]}),e[35]=p,e[36]=h,e[37]=u):u=e[37];let j;e[38]!==t.processing?(j=s.jsx(ae,{children:s.jsx(o,{type:"submit",disabled:t.processing,children:"Criar Canal"})}),e[38]=t.processing,e[39]=j):j=e[39];let g;e[40]!==V||e[41]!==u||e[42]!==j?(g=s.jsxs(oe,{className:"sm:max-w-[425px]",children:[z,s.jsxs("form",{onSubmit:V,children:[u,j]})]}),e[40]=V,e[41]=u,e[42]=j,e[43]=g):g=e[43];let C;e[44]!==K||e[45]!==g?(C=s.jsxs("div",{className:"flex items-center justify-between",children:[k,s.jsxs("div",{className:"flex gap-2",children:[B,L,s.jsxs(ne,{open:K,onOpenChange:ee,children:[H,g]})]})]}),e[44]=K,e[45]=g,e[46]=C):C=e[46];let v;if(e[47]!==n||e[48]!==_){let a;e[50]!==_?(a=i=>s.jsxs(ue,{className:"relative group",children:[s.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(i),children:s.jsx(ce,{className:"h-4 w-4"})})}),s.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(ge,{className:"text-sm font-medium flex items-center gap-2",children:[i.icon&&i.icon.startsWith("http")?s.jsx("img",{src:i.icon,alt:i.name,className:"w-6 h-6 rounded-full object-cover"}):i.type==="BROADCAST"?s.jsx(me,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(de,{className:"h-4 w-4 text-muted-foreground"}),i.name]}),i.type==="BROADCAST"?s.jsx(me,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ce,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.messages_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"mensagens enviadas"})]})]},i.id),e[50]=_,e[51]=a):a=e[51],v=n.map(a),e[47]=n,e[48]=_,e[49]=v}else v=e[49];let N;e[52]!==v?(N=s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v}),e[52]=v,e[53]=N):N=e[53];const Y=!!l;let G;e[54]===Symbol.for("react.memo_cache_sentinel")?(G=a=>!a&&A(null),e[54]=G):G=e[54];let P;e[55]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsxs(re,{children:[s.jsx(ie,{children:"Editar Canal"}),s.jsx(le,{children:"Atualize as informações deste canal."})]}),e[55]=P):P=e[55];let y;e[56]!==r||e[57]!==l||e[58]!==X?(y=l&&s.jsxs("form",{onSubmit:X,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"edit-name",children:"Nome do Canal"}),s.jsx(W,{id:"edit-name",value:r.data.name,onChange:a=>r.setData("name",a.target.value),placeholder:"Ex: Avisos Importantes",required:!0}),r.errors.name&&s.jsx("p",{className:"text-sm text-destructive",children:r.errors.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"edit-icon",children:"Ícone (Opcional)"}),s.jsx(W,{id:"edit-icon",type:"file",accept:"image/*",onChange:a=>r.setData("icon",a.target.files?a.target.files[0]:null)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para manter o atual."}),r.errors.icon&&s.jsx("p",{className:"text-sm text-destructive",children:r.errors.icon})]})]}),s.jsxs(ae,{children:[s.jsx(o,{type:"button",variant:"ghost",onClick:()=>A(null),children:"Cancelar"}),s.jsx(o,{type:"submit",disabled:r.processing,children:"Salvar Alterações"})]})]}),e[56]=r,e[57]=l,e[58]=X,e[59]=y):y=e[59];let b;e[60]!==y?(b=s.jsxs(oe,{className:"sm:max-w-[425px]",children:[P,y]}),e[60]=y,e[61]=b):b=e[61];let S;e[62]!==Y||e[63]!==b?(S=s.jsx(ne,{open:Y,onOpenChange:G,children:b}),e[62]=Y,e[63]=b,e[64]=S):S=e[64];let U;e[65]===Symbol.for("react.memo_cache_sentinel")?(U=()=>se(!1),e[65]=U):U=e[65];let D;e[66]!==n||e[67]!==Q?(D=s.jsx(ye,{isOpen:Q,onClose:U,channels:n}),e[66]=n,e[67]=Q,e[68]=D):D=e[68];let $;return e[69]!==C||e[70]!==N||e[71]!==S||e[72]!==D?($=s.jsxs(Ne,{breadcrumbs:R,children:[T,s.jsxs("div",{className:"space-y-6 p-6",children:[C,N,S,D]})]}),e[69]=C,e[70]=N,e[71]=S,e[72]=D,e[73]=$):$=e[73],$}export{is as default};
