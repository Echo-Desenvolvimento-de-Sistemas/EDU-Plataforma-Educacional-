import{c as ye,j as t,H as ue,L as Ne}from"./app-BlZNpJaz.js";import{P as ke,A as _e}from"./app-layout-vfDevXcM.js";import{B as be}from"./button-BFaAQ1F0.js";import{b as he,e as P,c as se,a as ve,d as we,T as Se}from"./table-DRoYhqJ6.js";import{A as Ae}from"./arrow-left-C_Tsc45O.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";function et(s){const e=ye.c(89),{student:T,classRoom:r,periods:i,results:le,schoolName:pe,logoUrl:O}=s,n=pe===void 0?"Edu Escola":pe;let $,C;e[0]===Symbol.for("react.memo_cache_sentinel")?($={title:"Dashboard",href:"/admin/dashboard"},C={title:"Notas e Boletins",href:"/admin/student-grades"},e[0]=$,e[1]=C):($=e[0],C=e[1]);const ie=`/admin/student-grades/${r.id}`;let c;e[2]!==r.name||e[3]!==ie?(c={title:r.name,href:ie},e[2]=r.name,e[3]=ie,e[4]=c):c=e[4];let H;e[5]===Symbol.for("react.memo_cache_sentinel")?(H={title:"Boletim",href:"#"},e[5]=H):H=e[5];let M;e[6]!==c?(M=[$,C,c,H],e[6]=c,e[7]=M):M=e[7];const ne=M;let z;if(e[8]!==le){const a=new Map;le.forEach(l=>{a.has(l.subject_id)||a.set(l.subject_id,{name:l.subject.name,grades:{}}),a.get(l.subject_id).grades[l.grading_period_id]=parseFloat(l.grade).toFixed(1)}),z=Array.from(a.values()),e[8]=le,e[9]=z}else z=e[9];const V=z,ge=Fe,ce=`Boletim - ${T.name}`;let d;e[10]!==ce?(d=t.jsx(ue,{title:ce}),e[10]=ce,e[11]=d):d=e[11];const de=`/admin/student-grades/${r.id}`;let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Ae,{className:"h-4 w-4"}),e[12]=G):G=e[12];let o;e[13]!==de?(o=t.jsx(be,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Ne,{href:de,children:G})}),e[13]=de,e[14]=o):o=e[14];let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Boletim Escolar"}),t.jsx("p",{className:"text-muted-foreground",children:"Visualização de notas e desempenho."})]}),e[15]=I):I=e[15];let m;e[16]!==o?(m=t.jsxs("div",{className:"flex items-center gap-4",children:[o,I]}),e[16]=o,e[17]=m):m=e[17];let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("div",{className:"flex gap-2",children:t.jsxs(be,{variant:"outline",onClick:ge,children:[t.jsx(ke,{className:"mr-2 h-4 w-4"}),"Imprimir / Salvar PDF"]})}),e[18]=U):U=e[18];let x;e[19]!==m?(x=t.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[m,U]}),e[19]=m,e[20]=x):x=e[20];let h;e[21]!==O||e[22]!==n?(h=O?t.jsx("img",{src:O,alt:"Logo",className:"max-h-20 w-auto object-contain print-color-adjust-exact"}):t.jsx("div",{className:"h-16 w-16 bg-black text-white rounded-lg flex items-center justify-center font-bold text-2xl print:bg-black print:text-white print-color-adjust-exact",children:n.charAt(0)}),e[21]=O,e[22]=n,e[23]=h):h=e[23];let p;e[24]!==n?(p=t.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wide dark:text-gray-100",children:n}),e[24]=n,e[25]=p):p=e[25];let q;e[26]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sistema de Gestão Escolar"}),e[26]=q):q=e[26];let f;e[27]!==p?(f=t.jsxs("div",{children:[p,q]}),e[27]=p,e[28]=f):f=e[28];let b;e[29]!==h||e[30]!==f?(b=t.jsxs("div",{className:"flex items-center gap-4",children:[h,f]}),e[29]=h,e[30]=f,e[31]=b):b=e[31];let J;e[32]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("h2",{className:"text-xl font-bold",children:"Boletim Escolar"}),e[32]=J):J=e[32];let g;e[33]!==r.academic_year.year?(g=t.jsxs("div",{className:"text-right",children:[J,t.jsxs("p",{className:"text-gray-600",children:["Ano Letivo: ",r.academic_year.year]})]}),e[33]=r.academic_year.year,e[34]=g):g=e[34];let j;e[35]!==b||e[36]!==g?(j=t.jsxs("div",{className:"hidden print:flex justify-between items-center border-b pb-6 mb-8",children:[b,g]}),e[35]=b,e[36]=g,e[37]=j):j=e[37];let K;e[38]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold uppercase tracking-wide dark:text-gray-100",children:"Edu Escola"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Relatório de Desempenho Acadêmico"})]}),e[38]=K):K=e[38];let y;e[39]!==r.academic_year.year?(y=t.jsx("div",{className:"print:hidden border-b dark:border-gray-800 pb-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-start",children:[K,t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-sm font-medium",children:r.academic_year.year})})]})}),e[39]=r.academic_year.year,e[40]=y):y=e[40];let Q;e[41]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-gray-500 dark:text-gray-400 uppercase text-xs font-semibold mb-1",children:"Aluno"}),e[41]=Q):Q=e[41];let u;e[42]!==T.name?(u=t.jsx("p",{className:"font-bold text-lg dark:text-gray-100",children:T.name}),e[42]=T.name,e[43]=u):u=e[43];const oe=T.registration_number||"-";let N;e[44]!==oe?(N=t.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Matrícula: ",oe]}),e[44]=oe,e[45]=N):N=e[45];let k;e[46]!==u||e[47]!==N?(k=t.jsxs("div",{children:[Q,u,N]}),e[46]=u,e[47]=N,e[48]=k):k=e[48];let W;e[49]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("p",{className:"text-gray-500 dark:text-gray-400 uppercase text-xs font-semibold mb-1",children:"Enturmação"}),e[49]=W):W=e[49];let _;e[50]!==r.name?(_=t.jsx("p",{className:"font-bold text-lg dark:text-gray-100",children:r.name}),e[50]=r.name,e[51]=_):_=e[51];let v;e[52]!==r.grade.name?(v=t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r.grade.name}),e[52]=r.grade.name,e[53]=v):v=e[53];let w;e[54]!==_||e[55]!==v?(w=t.jsxs("div",{className:"text-right",children:[W,_,v]}),e[54]=_,e[55]=v,e[56]=w):w=e[56];let S;e[57]!==k||e[58]!==w?(S=t.jsxs("div",{className:"mb-8 grid grid-cols-2 gap-4 text-sm p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border dark:border-gray-700 print:bg-transparent print:border-gray-200",children:[k,w]}),e[57]=k,e[58]=w,e[59]=S):S=e[59];let X;e[60]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(se,{className:"w-[30%] text-black dark:text-white font-bold",children:"Disciplina"}),e[60]=X):X=e[60];let A;e[61]!==i?(A=i.map(Re),e[61]=i,e[62]=A):A=e[62];let Y,Z;e[63]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(se,{className:"text-center text-black dark:text-white font-bold border-l dark:border-gray-700 print:border-l print:border-gray-200",children:"Média Final"}),Z=t.jsx(se,{className:"text-center text-black dark:text-white font-bold",children:"Resultado"}),e[63]=Y,e[64]=Z):(Y=e[63],Z=e[64]);let E;e[65]!==A?(E=t.jsx(ve,{className:"bg-gray-50 dark:bg-gray-800 print:bg-gray-100 print-color-adjust-exact",children:t.jsxs(he,{className:"hover:bg-transparent dark:hover:bg-transparent",children:[X,A,Y,Z]})}),e[65]=A,e[66]=E):E=e[66];let D;e[67]!==i||e[68]!==V?(D=V.length>0?V.map((a,l)=>{const me=Object.values(a.grades).map(De),je=me.reduce(Ee,0),ae=me.length>0?(je/me.length).toFixed(1):"-",fe=ae!=="-"&&parseFloat(ae)>=6;return t.jsxs(he,{className:"print:border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 dark:border-gray-700",children:[t.jsx(P,{className:"font-medium text-black dark:text-white",children:a.name}),i.map(xe=>t.jsx(P,{className:"text-center text-black",children:a.grades[xe.id]!==void 0?parseFloat(a.grades[xe.id]).toFixed(1):"-"},xe.id)),t.jsx(P,{className:"text-center font-bold text-black dark:text-white border-l border-gray-100 dark:border-gray-700 print:border-gray-200",children:ae}),t.jsx(P,{className:"text-center text-black dark:text-white",children:ae!=="-"&&t.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold print:border print:border-black print:px-1 print:py-0 ${fe?"bg-green-100 text-green-800":"bg-red-100 text-red-800"} print-color-adjust-exact`,children:fe?"APROVADO":"REPROVADO"})})]},l)}):t.jsx(he,{children:t.jsx(P,{colSpan:i.length+3,className:"h-24 text-center",children:"Nenhuma nota lançada."})}),e[67]=i,e[68]=V,e[69]=D):D=e[69];let R;e[70]!==D?(R=t.jsx(we,{children:D}),e[70]=D,e[71]=R):R=e[71];let F;e[72]!==E||e[73]!==R?(F=t.jsx("div",{className:"rounded-md border dark:border-gray-700 overflow-hidden print:border-gray-300",children:t.jsxs(Se,{children:[E,R]})}),e[72]=E,e[73]=R,e[74]=F):F=e[74];let ee;e[75]===Symbol.for("react.memo_cache_sentinel")?(ee=new Date().toLocaleDateString(),e[75]=ee):ee=e[75];let te;e[76]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs("div",{className:"mt-12 pt-8 border-t text-center text-xs text-gray-500 hidden print:flex justify-between items-center",children:[t.jsxs("p",{children:["Documento gerado em ",ee," às ",new Date().toLocaleTimeString()]}),t.jsx("p",{children:"Edu Escola - Sistema de Gestão Acadêmica"})]}),e[76]=te):te=e[76];let B;e[77]!==j||e[78]!==y||e[79]!==S||e[80]!==F?(B=t.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border dark:border-gray-800 shadow-sm print:shadow-none print:border-none print:fixed print:top-0 print:left-0 print:w-full print:h-full print:z-[9999] print:bg-white print:m-0 print:rounded-none overflow-visible",children:[j,y,S,F,te]}),e[77]=j,e[78]=y,e[79]=S,e[80]=F,e[81]=B):B=e[81];let L;e[82]!==x||e[83]!==B?(L=t.jsxs("div",{className:"flex flex-col gap-6 p-4 max-w-5xl mx-auto w-full print:p-0",children:[x,B]}),e[82]=x,e[83]=B,e[84]=L):L=e[84];let re;return e[85]!==ne||e[86]!==d||e[87]!==L?(re=t.jsxs(_e,{breadcrumbs:ne,children:[d,L]}),e[85]=ne,e[86]=d,e[87]=L,e[88]=re):re=e[88],re}function Ee(s,e){return s+e}function De(s){return parseFloat(s)}function Re(s){return t.jsx(se,{className:"text-center text-black dark:text-white font-bold",children:s.name},s.id)}function Fe(){window.print()}export{et as default};
