import{c as ae,u as se,j as t,H as le,L as de}from"./app-BlZNpJaz.js";import{B as re}from"./button-BFaAQ1F0.js";import{I as M}from"./input-ClKI_C3W.js";import{L as C}from"./label-D4nWcODD.js";import{S as ie,a as oe,b as me,c as ne,d as te}from"./select-wa9XAM0x.js";import{S as ce}from"./separator-RbYn2Kme.js";import{A as fe}from"./app-layout-vfDevXcM.js";import{I as q}from"./input-error-CQJoVgr4.js";import{T as ue}from"./trash-2-C65_v2RJ.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-ePvy9ijt.js";import"./index-II6TlMg7.js";import"./index-20W_Bwtk.js";import"./Combination-CQbiwxas.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";import"./createLucideIcon-G_Aima0p.js";import"./check-C5YBzlMP.js";import"./index-DWBLVih3.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";function Je(S){const e=ae.c(86),{academicYear:a}=S;let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w={title:"Anos Letivos",href:"/admin/academic-years"},e[0]=w):w=e[0];const o=`/admin/academic-years/${a.id}/edit`;let d;e[1]!==o?(d=[w,{title:"Editar",href:o}],e[1]=o,e[2]=d):d=e[2];const L=d;let D;e[3]!==a.end_date||e[4]!==a.start_date||e[5]!==a.status||e[6]!==a.year?(D={year:a.year,start_date:a.start_date,end_date:a.end_date,status:a.status},e[3]=a.end_date,e[4]=a.start_date,e[5]=a.status,e[6]=a.year,e[7]=D):D=e[7];const{data:s,setData:l,put:E,processing:I,errors:r}=se(D);let p;e[8]!==a.id||e[9]!==E?(p=F=>{F.preventDefault(),E(`/admin/academic-years/${a.id}`)},e[8]=a.id,e[9]=E,e[10]=p):p=e[10];const N=p;let b;e[11]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(le,{title:"Editar Ano Letivo"}),e[11]=b):b=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Editar Ano Letivo"}),e[12]=j):j=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(C,{htmlFor:"year",children:"Ano (Ex: 2025)"}),e[13]=k):k=e[13];let m;e[14]!==l?(m=F=>l("year",F.target.value),e[14]=l,e[15]=m):m=e[15];let n;e[16]!==s.year||e[17]!==m?(n=t.jsx(M,{id:"year",type:"text",className:"mt-1 block w-full",value:s.year,onChange:m,required:!0,autoFocus:!0}),e[16]=s.year,e[17]=m,e[18]=n):n=e[18];let c;e[19]!==r.year?(c=t.jsx(q,{className:"mt-2",message:r.year}),e[19]=r.year,e[20]=c):c=e[20];let f;e[21]!==n||e[22]!==c?(f=t.jsxs("div",{children:[k,n,c]}),e[21]=n,e[22]=c,e[23]=f):f=e[23];let A;e[24]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(C,{htmlFor:"start_date",children:"Data de Início"}),e[24]=A):A=e[24];let u;e[25]!==l?(u=F=>l("start_date",F.target.value),e[25]=l,e[26]=u):u=e[26];let x;e[27]!==s.start_date||e[28]!==u?(x=t.jsx(M,{id:"start_date",type:"date",className:"mt-1 block w-full",value:s.start_date,onChange:u,required:!0}),e[27]=s.start_date,e[28]=u,e[29]=x):x=e[29];let h;e[30]!==r.start_date?(h=t.jsx(q,{className:"mt-2",message:r.start_date}),e[30]=r.start_date,e[31]=h):h=e[31];let _;e[32]!==x||e[33]!==h?(_=t.jsxs("div",{children:[A,x,h]}),e[32]=x,e[33]=h,e[34]=_):_=e[34];let y;e[35]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(C,{htmlFor:"end_date",children:"Data de Término"}),e[35]=y):y=e[35];let g;e[36]!==l?(g=F=>l("end_date",F.target.value),e[36]=l,e[37]=g):g=e[37];let v;e[38]!==s.end_date||e[39]!==g?(v=t.jsx(M,{id:"end_date",type:"date",className:"mt-1 block w-full",value:s.end_date,onChange:g,required:!0}),e[38]=s.end_date,e[39]=g,e[40]=v):v=e[40];let i;e[41]!==r.end_date?(i=t.jsx(q,{className:"mt-2",message:r.end_date}),e[41]=r.end_date,e[42]=i):i=e[42];let $;e[43]!==v||e[44]!==i?($=t.jsxs("div",{children:[y,v,i]}),e[43]=v,e[44]=i,e[45]=$):$=e[45];let B;e[46]!==_||e[47]!==$?(B=t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[_,$]}),e[46]=_,e[47]=$,e[48]=B):B=e[48];let O;e[49]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(C,{htmlFor:"status",children:"Status"}),e[49]=O):O=e[49];let P;e[50]!==l?(P=F=>l("status",F),e[50]=l,e[51]=P):P=e[51];let Q;e[52]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(oe,{className:"w-full mt-1",children:t.jsx(me,{placeholder:"Selecione o status"})}),e[52]=Q):Q=e[52];let U;e[53]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs(ne,{children:[t.jsx(te,{value:"open",children:"Aberto"}),t.jsx(te,{value:"closed",children:"Fechado"}),t.jsx(te,{value:"ended",children:"Encerrado"})]}),e[53]=U):U=e[53];let T;e[54]!==s.status||e[55]!==P?(T=t.jsxs(ie,{value:s.status,onValueChange:P,children:[Q,U]}),e[54]=s.status,e[55]=P,e[56]=T):T=e[56];let Y;e[57]!==r.status?(Y=t.jsx(q,{className:"mt-2",message:r.status}),e[57]=r.status,e[58]=Y):Y=e[58];let H;e[59]!==T||e[60]!==Y?(H=t.jsxs("div",{children:[O,T,Y]}),e[59]=T,e[60]=Y,e[61]=H):H=e[61];let R;e[62]!==I?(R=t.jsx("div",{className:"flex items-center justify-end",children:t.jsx(re,{className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-white",disabled:I,children:"Salvar Alterações"})}),e[62]=I,e[63]=R):R=e[63];let V;e[64]!==N||e[65]!==f||e[66]!==B||e[67]!==H||e[68]!==R?(V=t.jsxs("div",{className:"mx-auto w-full max-w-2xl rounded-xl border border-sidebar-border/70 bg-white p-6 shadow-sm dark:border-sidebar-border dark:bg-sidebar-accent/10",children:[j,t.jsxs("form",{onSubmit:N,className:"space-y-6",children:[f,B,H,R]})]}),e[64]=N,e[65]=f,e[66]=B,e[67]=H,e[68]=R,e[69]=V):V=e[69];let W;e[70]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Períodos Avaliativos (Bimestres)"}),e[70]=W):W=e[70];let z;e[71]!==a.grading_periods?(z=t.jsx("div",{className:"space-y-4 mb-6",children:a.grading_periods&&a.grading_periods.length>0?t.jsx("div",{className:"border rounded-md divide-y dark:divide-gray-700",children:a.grading_periods.map(xe)}):t.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Nenhum período cadastrado."})}),e[71]=a.grading_periods,e[72]=z):z=e[72];let X,Z;e[73]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ce,{className:"my-4"}),Z=t.jsx("h4",{className:"text-sm font-medium mb-3",children:"Adicionar Novo Período"}),e[73]=X,e[74]=Z):(X=e[73],Z=e[74]);let G;e[75]!==a.id?(G=t.jsx(he,{academicYearId:a.id}),e[75]=a.id,e[76]=G):G=e[76];let J;e[77]!==z||e[78]!==G?(J=t.jsxs("div",{className:"mx-auto w-full max-w-2xl rounded-xl border border-sidebar-border/70 bg-white p-6 shadow-sm dark:border-sidebar-border dark:bg-sidebar-accent/10",children:[W,z,X,Z,G]}),e[77]=z,e[78]=G,e[79]=J):J=e[79];let K;e[80]!==V||e[81]!==J?(K=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-y-auto rounded-xl p-4",children:[V,J]}),e[80]=V,e[81]=J,e[82]=K):K=e[82];let ee;return e[83]!==L||e[84]!==K?(ee=t.jsxs(fe,{breadcrumbs:L,children:[b,K]}),e[83]=L,e[84]=K,e[85]=ee):ee=e[85],ee}function xe(S){return t.jsxs("div",{className:"flex items-center justify-between p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:S.name}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(S.start_date).toLocaleDateString()," - ",new Date(S.end_date).toLocaleDateString()]})]}),t.jsx(de,{href:`/admin/grading-periods/${S.id}`,method:"delete",as:"button",className:"text-red-500 hover:bg-red-50 p-2 rounded-md transition-colors",children:t.jsx(ue,{className:"h-4 w-4"})})]},S.id)}function he(S){const e=ae.c(48),{academicYearId:a}=S;let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w={name:"",start_date:"",end_date:""},e[0]=w):w=e[0];const{data:o,setData:d,post:L,processing:D,errors:s,reset:l}=se(w);let E;e[1]!==a||e[2]!==L||e[3]!==l?(E=i=>{i.preventDefault(),L(`/admin/academic-years/${a}/grading-periods`,{onSuccess:()=>l()})},e[1]=a,e[2]=L,e[3]=l,e[4]=E):E=e[4];const I=E;let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(C,{htmlFor:"gp_name",children:"Nome (Ex: 1º Bimestre)"}),e[5]=r):r=e[5];let p;e[6]!==d?(p=i=>d("name",i.target.value),e[6]=d,e[7]=p):p=e[7];let N;e[8]!==o.name||e[9]!==p?(N=t.jsx(M,{id:"gp_name",value:o.name,onChange:p,placeholder:"1º Bimestre",className:"mt-1",required:!0}),e[8]=o.name,e[9]=p,e[10]=N):N=e[10];let b;e[11]!==s.name?(b=t.jsx(q,{message:s.name}),e[11]=s.name,e[12]=b):b=e[12];let j;e[13]!==N||e[14]!==b?(j=t.jsxs("div",{children:[r,N,b]}),e[13]=N,e[14]=b,e[15]=j):j=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(C,{htmlFor:"gp_start",children:"Início"}),e[16]=k):k=e[16];let m;e[17]!==d?(m=i=>d("start_date",i.target.value),e[17]=d,e[18]=m):m=e[18];let n;e[19]!==o.start_date||e[20]!==m?(n=t.jsx(M,{id:"gp_start",type:"date",value:o.start_date,onChange:m,className:"mt-1",required:!0}),e[19]=o.start_date,e[20]=m,e[21]=n):n=e[21];let c;e[22]!==s.start_date?(c=t.jsx(q,{message:s.start_date}),e[22]=s.start_date,e[23]=c):c=e[23];let f;e[24]!==n||e[25]!==c?(f=t.jsxs("div",{children:[k,n,c]}),e[24]=n,e[25]=c,e[26]=f):f=e[26];let A;e[27]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(C,{htmlFor:"gp_end",children:"Fim"}),e[27]=A):A=e[27];let u;e[28]!==d?(u=i=>d("end_date",i.target.value),e[28]=d,e[29]=u):u=e[29];let x;e[30]!==o.end_date||e[31]!==u?(x=t.jsx(M,{id:"gp_end",type:"date",value:o.end_date,onChange:u,className:"mt-1",required:!0}),e[30]=o.end_date,e[31]=u,e[32]=x):x=e[32];let h;e[33]!==s.end_date?(h=t.jsx(q,{message:s.end_date}),e[33]=s.end_date,e[34]=h):h=e[34];let _;e[35]!==x||e[36]!==h?(_=t.jsxs("div",{children:[A,x,h]}),e[35]=x,e[36]=h,e[37]=_):_=e[37];let y;e[38]!==f||e[39]!==_?(y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f,_]}),e[38]=f,e[39]=_,e[40]=y):y=e[40];let g;e[41]!==D?(g=t.jsx(re,{disabled:D,size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-white",children:"Adicionar Período"}),e[41]=D,e[42]=g):g=e[42];let v;return e[43]!==I||e[44]!==y||e[45]!==g||e[46]!==j?(v=t.jsxs("form",{onSubmit:I,className:"grid gap-4 p-4 border rounded-md bg-gray-50 dark:bg-gray-800/50",children:[j,y,g]}),e[43]=I,e[44]=y,e[45]=g,e[46]=j,e[47]=v):v=e[47],v}export{Je as default};
