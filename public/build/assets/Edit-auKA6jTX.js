import{c as vs,u as _s,r as B,j as s,b as ds,H as fs}from"./app-BlZNpJaz.js";import{P as bs,a as us,A as ys}from"./app-layout-vfDevXcM.js";import{I as m}from"./input-error-CQJoVgr4.js";import{B as u}from"./button-BFaAQ1F0.js";import{I as d}from"./input-ClKI_C3W.js";import{L as l}from"./label-D4nWcODD.js";import{T as U}from"./textarea-BfFOsk1d.js";import{S as g,a as j,b as p,c as v,d as c}from"./select-wa9XAM0x.js";import{C as ns}from"./checkbox-BWg6pcGT.js";import{f as Ns,a as Cs,e as ws,b as Fs,c as Ss,d as ks,D as Ds}from"./dialog-CCWmf-Wy.js";import{B as Ps}from"./badge-hQq2_SSh.js";import{F as As}from"./file-text-BPl73Zr-.js";import{C as Es}from"./clock-DL2owC6n.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./chevron-right-BaSAJNUd.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";import"./check-C5YBzlMP.js";function ja(h){const e=vs.c(163),{student:r,classRooms:de,guardians:O,templates:ne,issuedDocuments:$}=h;let H,Q;e[0]===Symbol.for("react.memo_cache_sentinel")?(H={title:"Dashboard Admin",href:"/admin/dashboard"},Q={title:"Alunos",href:"/admin/students"},e[0]=H,e[1]=Q):(H=e[0],Q=e[1]);const oe=`/admin/students/${r.id}/edit`;let W;e[2]!==oe?(W=[H,Q,{title:"Editar Aluno",href:oe}],e[2]=oe,e[3]=W):W=e[3];const ce=W,he=r.social_name||"",me=r.photo_path||"",xe=r.sex||"",ue=r.color_race||"",ge=r.nationality||"Brasileira",je=r.place_of_birth||"",pe=r.state_of_birth||"";let _;e[4]!==r.birth_date?(_=r.birth_date?r.birth_date.split("T")[0]:"",e[4]=r.birth_date,e[5]=_):_=e[5];const ve=r.cpf||"",_e=r.rg||"",fe=r.rg_issuer||"",be=r.rg_state||"";let f;e[6]!==r.rg_date?(f=r.rg_date?r.rg_date.split("T")[0]:"",e[6]=r.rg_date,e[7]=f):f=e[7];const ye=r.birth_cert_model||"new",Ne=r.birth_cert_number||"";let Z;e[8]===Symbol.for("react.memo_cache_sentinel")?(Z=[],e[8]=Z):Z=e[8];const Ce=r.nis||"",we=r.mother_name||"",Fe=r.father_name||"",Se=r.parents_marital_status||"",ke=r.address?.cep||"",De=r.address?.street||"",Pe=r.address?.number||"",Ae=r.address?.complement||"",Ee=r.address?.neighborhood||"",Ie=r.address?.city||"",Te=r.address?.state||"",ze=r.address?.zone||"urbana",Re=r.address?.phone_contact||"";let b;e[9]!==ke||e[10]!==De||e[11]!==Pe||e[12]!==Ae||e[13]!==Ee||e[14]!==Ie||e[15]!==Te||e[16]!==ze||e[17]!==Re?(b={cep:ke,street:De,number:Pe,complement:Ae,neighborhood:Ee,city:Ie,state:Te,zone:ze,phone_contact:Re},e[9]=ke,e[10]=De,e[11]=Pe,e[12]=Ae,e[13]=Ee,e[14]=Ie,e[15]=Te,e[16]=ze,e[17]=Re,e[18]=b):b=e[18];const Ve=r.health?.blood_type||"",qe=r.health?.allergies||"",Le=r.health?.food_restrictions||"",Ge=r.health?.continuous_meds||"",Be=r.health?.has_disability||!1,Me=r.health?.disability_details||"",Ue=r.health?.cid||"",Oe=r.health?.health_plan||"",$e=r.health?.health_unit||"",He=r.health?.vaccination_updated||!1;let y;e[19]!==Ve||e[20]!==qe||e[21]!==Le||e[22]!==Ge||e[23]!==Be||e[24]!==Me||e[25]!==Ue||e[26]!==Oe||e[27]!==$e||e[28]!==He?(y={blood_type:Ve,allergies:qe,food_restrictions:Le,continuous_meds:Ge,has_disability:Be,disability_details:Me,cid:Ue,health_plan:Oe,health_unit:$e,vaccination_updated:He},e[19]=Ve,e[20]=qe,e[21]=Le,e[22]=Ge,e[23]=Be,e[24]=Me,e[25]=Ue,e[26]=Oe,e[27]=$e,e[28]=He,e[29]=y):y=e[29];let N;e[30]!==r.enrollment_date?(N=r.enrollment_date?r.enrollment_date.split("T")[0]:"",e[30]=r.enrollment_date,e[31]=N):N=e[31];const Qe=r.status||"active",We=r.origin_school||"",Ze=r.observations||"";let C;e[32]!==r.class_room_id?(C=r.class_room_id?r.class_room_id.toString():"",e[32]=r.class_room_id,e[33]=C):C=e[33];let J;e[34]===Symbol.for("react.memo_cache_sentinel")?(J=[],e[34]=J):J=e[34];const Je=r.exit_authorization||!1,Ke=r.transport_info||"";let w;e[35]!==r.guardians?(w=r.guardians?r.guardians.map(Vs):[],e[35]=r.guardians,e[36]=w):w=e[36];let K;e[37]!==r.name||e[38]!==je||e[39]!==pe||e[40]!==_||e[41]!==ve||e[42]!==_e||e[43]!==fe||e[44]!==be||e[45]!==f||e[46]!==ye||e[47]!==Ne||e[48]!==Ce||e[49]!==we||e[50]!==Fe||e[51]!==Se||e[52]!==b||e[53]!==y||e[54]!==N||e[55]!==Qe||e[56]!==We||e[57]!==Ze||e[58]!==he||e[59]!==C||e[60]!==Je||e[61]!==Ke||e[62]!==w||e[63]!==me||e[64]!==xe||e[65]!==ue||e[66]!==ge?(K={name:r.name,social_name:he,photo_path:me,sex:xe,color_race:ue,nationality:ge,place_of_birth:je,state_of_birth:pe,birth_date:_,cpf:ve,rg:_e,rg_issuer:fe,rg_state:be,rg_date:f,birth_cert_model:ye,birth_cert_number:Ne,birth_cert_old_info:Z,nis:Ce,mother_name:we,father_name:Fe,parents_marital_status:Se,address:b,health:y,enrollment_date:N,status:Qe,origin_school:We,observations:Ze,class_room_id:C,authorized_pickups:J,exit_authorization:Je,transport_info:Ke,guardian_ids:w},e[37]=r.name,e[38]=je,e[39]=pe,e[40]=_,e[41]=ve,e[42]=_e,e[43]=fe,e[44]=be,e[45]=f,e[46]=ye,e[47]=Ne,e[48]=Ce,e[49]=we,e[50]=Fe,e[51]=Se,e[52]=b,e[53]=y,e[54]=N,e[55]=Qe,e[56]=We,e[57]=Ze,e[58]=he,e[59]=C,e[60]=Je,e[61]=Ke,e[62]=w,e[63]=me,e[64]=xe,e[65]=ue,e[66]=ge,e[67]=K):K=e[67];const{data:t,setData:i,put:Xe,processing:Ye,errors:o}=_s(K),[n,gs]=B.useState("identification"),[x,os]=B.useState(""),[es,cs]=B.useState(!1);let X;e[68]!==t||e[69]!==x||e[70]!==i?(X=()=>{x&&!t.guardian_ids.includes(Number(x))&&(i("guardian_ids",[...t.guardian_ids,Number(x)]),os(""))},e[68]=t,e[69]=x,e[70]=i,e[71]=X):X=e[71];const ss=X;let Y;e[72]!==t||e[73]!==i?(Y=a=>{i("guardian_ids",t.guardian_ids.filter(M=>M!==a))},e[72]=t,e[73]=i,e[74]=Y):Y=e[74];const as=Y;let ee;e[75]!==Xe||e[76]!==r.id?(ee=a=>{a.preventDefault(),Xe(us.students.update.url(r.id))},e[75]=Xe,e[76]=r.id,e[77]=ee):ee=e[77];const ts=ee;let se;e[78]!==r.id?(se=a=>{confirm("Deseja emitir este documento?")&&(cs(!0),ds.post(us.students.documents.store.url(r.id),{template_id:a},{onFinish:()=>cs(!1),preserveScroll:!0,onSuccess:Rs}))},e[78]=r.id,e[79]=se):se=e[79];const rs=se,[is,hs]=B.useState(!1),[F,ms]=B.useState(""),[S,xs]=B.useState("");let ae;e[80]!==F||e[81]!==S||e[82]!==r.id?(ae=a=>{a.preventDefault(),ds.post(`/admin/students/${r.id}/reset-password`,{password:F,password_confirmation:S},{onSuccess:()=>{hs(!1),ms(""),xs("")}})},e[80]=F,e[81]=S,e[82]=r.id,e[83]=ae):ae=e[83];const ls=ae;let te;e[84]===Symbol.for("react.memo_cache_sentinel")?(te=[{id:"identification",label:"Identificação"},{id:"docs",label:"Documentos Pessoais"},{id:"family",label:"Família"},{id:"address",label:"Endereço"},{id:"health",label:"Saúde"},{id:"academic",label:"Acadêmico"},{id:"documents",label:"Emissão de Docs"},{id:"security",label:"Segurança / Acesso"},{id:"guardians",label:"Responsáveis"}],e[84]=te):te=e[84];const js=te;let re;e[85]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(fs,{title:"Editar Aluno"}),e[85]=re):re=e[85];let ie;e[86]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-800 sm:mb-6 sm:text-xl dark:text-gray-200",children:"Editar Aluno"}),e[86]=ie):ie=e[86];let k;e[87]!==n?(k=s.jsx("div",{className:"mb-6 flex space-x-1 overflow-x-auto rounded-xl bg-gray-100 p-1 dark:bg-gray-800 pb-2",children:js.map(a=>s.jsx("button",{onClick:()=>gs(a.id),className:`min-w-fit flex-1 whitespace-nowrap rounded-lg px-3 py-2 text-sm font-medium leading-5 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 sm:py-2.5 ${n===a.id?"bg-white text-blue-700 shadow dark:bg-gray-700 dark:text-blue-100":"text-gray-700 hover:bg-white/[0.12] hover:text-blue-600 dark:text-gray-400 dark:hover:text-gray-200"}`,children:a.label},a.id))}),e[87]=n,e[88]=k):k=e[88];let D;e[89]!==n||e[90]!==t||e[91]!==o||e[92]!==i?(D=n==="identification"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"name",children:"Nome Completo *"}),s.jsx(d,{id:"name",value:t.name,onChange:a=>i("name",a.target.value),required:!0}),s.jsx(m,{message:o.name})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"social_name",children:"Nome Social"}),s.jsx(d,{id:"social_name",value:t.social_name,onChange:a=>i("social_name",a.target.value)}),s.jsx(m,{message:o.social_name})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"birth_date",children:"Data de Nascimento *"}),s.jsx(d,{id:"birth_date",type:"date",value:t.birth_date,onChange:a=>i("birth_date",a.target.value),required:!0}),s.jsx(m,{message:o.birth_date})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"sex",children:"Sexo *"}),s.jsxs(g,{value:t.sex,onValueChange:a=>i("sex",a),children:[s.jsx(j,{children:s.jsx(p,{placeholder:"Selecione"})}),s.jsxs(v,{children:[s.jsx(c,{value:"M",children:"Masculino"}),s.jsx(c,{value:"F",children:"Feminino"})]})]}),s.jsx(m,{message:o.sex})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"color_race",children:"Cor / Raça *"}),s.jsxs(g,{value:t.color_race,onValueChange:a=>i("color_race",a),children:[s.jsx(j,{children:s.jsx(p,{placeholder:"Selecione"})}),s.jsxs(v,{children:[s.jsx(c,{value:"Branca",children:"Branca"}),s.jsx(c,{value:"Preta",children:"Preta"}),s.jsx(c,{value:"Parda",children:"Parda"}),s.jsx(c,{value:"Amarela",children:"Amarela"}),s.jsx(c,{value:"Indígena",children:"Indígena"}),s.jsx(c,{value:"Não Declarada",children:"Não Declarada"})]})]}),s.jsx(m,{message:o.color_race})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"nationality",children:"Nacionalidade"}),s.jsx(d,{id:"nationality",value:t.nationality,onChange:a=>i("nationality",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"place_of_birth",children:"Naturalidade (Cidade)"}),s.jsx(d,{id:"place_of_birth",value:t.place_of_birth,onChange:a=>i("place_of_birth",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"state_of_birth",children:"UF Nascimento"}),s.jsx(d,{id:"state_of_birth",value:t.state_of_birth,onChange:a=>i("state_of_birth",a.target.value),maxLength:2})]})]})]}),e[89]=n,e[90]=t,e[91]=o,e[92]=i,e[93]=D):D=e[93];let P;e[94]!==n||e[95]!==t||e[96]!==o||e[97]!==i?(P=n==="docs"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"cpf",children:"CPF *"}),s.jsx(d,{id:"cpf",value:t.cpf,onChange:a=>i("cpf",a.target.value),required:!0}),s.jsx(m,{message:o.cpf})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"nis",children:"NIS"}),s.jsx(d,{id:"nis",value:t.nis,onChange:a=>i("nis",a.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"rg",children:"RG"}),s.jsx(d,{id:"rg",value:t.rg,onChange:a=>i("rg",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"rg_issuer",children:"Órgão Emissor"}),s.jsx(d,{id:"rg_issuer",value:t.rg_issuer,onChange:a=>i("rg_issuer",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"rg_state",children:"UF RG"}),s.jsx(d,{id:"rg_state",value:t.rg_state,onChange:a=>i("rg_state",a.target.value),maxLength:2})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"rg_date",children:"Data Emissão"}),s.jsx(d,{id:"rg_date",type:"date",value:t.rg_date,onChange:a=>i("rg_date",a.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"birth_cert_number",children:"Certidão de Nascimento (Matrícula)"}),s.jsx(d,{id:"birth_cert_number",value:t.birth_cert_number,onChange:a=>i("birth_cert_number",a.target.value),placeholder:"32 dígitos"})]})]}),e[94]=n,e[95]=t,e[96]=o,e[97]=i,e[98]=P):P=e[98];let A;e[99]!==n||e[100]!==rs||e[101]!==es||e[102]!==$||e[103]!==ne?(A=n==="documents"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg border p-4 shadow-sm bg-white dark:bg-gray-800",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"Modelos Disponíveis"]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ne.map(a=>s.jsxs("div",{className:"flex flex-col justify-between border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200",children:a.title}),s.jsx(Ps,{variant:"outline",className:"mt-1",children:a.type})]}),s.jsxs(u,{type:"button",className:"mt-4 w-full",variant:"secondary",onClick:()=>rs(a.id),disabled:es,children:[s.jsx(bs,{className:"h-4 w-4 mr-2"}),"Emitir Documento"]})]},a.id))})]}),s.jsxs("div",{className:"rounded-lg border p-4 shadow-sm bg-gray-50 dark:bg-gray-800",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5"}),"Histórico de Emissões"]}),$.length>0?s.jsx("div",{className:"space-y-2",children:$.map(zs)}):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum documento emitido para este aluno ainda."})]})]}),e[99]=n,e[100]=rs,e[101]=es,e[102]=$,e[103]=ne,e[104]=A):A=e[104];let E;e[105]!==n||e[106]!==t||e[107]!==o||e[108]!==i?(E=n==="family"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"mother_name",children:"Nome da Mãe *"}),s.jsx(d,{id:"mother_name",value:t.mother_name,onChange:a=>i("mother_name",a.target.value),required:!0}),s.jsx(m,{message:o.mother_name})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"father_name",children:"Nome do Pai"}),s.jsx(d,{id:"father_name",value:t.father_name,onChange:a=>i("father_name",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"parents_marital_status",children:"Estado Civil dos Pais"}),s.jsxs(g,{value:t.parents_marital_status,onValueChange:a=>i("parents_marital_status",a),children:[s.jsx(j,{children:s.jsx(p,{placeholder:"Selecione"})}),s.jsxs(v,{children:[s.jsx(c,{value:"Casados",children:"Casados"}),s.jsx(c,{value:"Separados",children:"Separados"}),s.jsx(c,{value:"Solteiros",children:"Solteiros"}),s.jsx(c,{value:"Viúvos",children:"Viúvos"})]})]})]})]}),e[105]=n,e[106]=t,e[107]=o,e[108]=i,e[109]=E):E=e[109];let I;e[110]!==n||e[111]!==t||e[112]!==o||e[113]!==i?(I=n==="address"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"cep",children:"CEP *"}),s.jsx(d,{id:"cep",value:t.address.cep,onChange:a=>i("address",{...t.address,cep:a.target.value}),required:!0}),s.jsx(m,{message:o["address.cep"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx(l,{htmlFor:"street",children:"Logradouro *"}),s.jsx(d,{id:"street",value:t.address.street,onChange:a=>i("address",{...t.address,street:a.target.value}),required:!0}),s.jsx(m,{message:o["address.street"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"number",children:"Número *"}),s.jsx(d,{id:"number",value:t.address.number,onChange:a=>i("address",{...t.address,number:a.target.value}),required:!0}),s.jsx(m,{message:o["address.number"]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"complement",children:"Complemento"}),s.jsx(d,{id:"complement",value:t.address.complement,onChange:a=>i("address",{...t.address,complement:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"neighborhood",children:"Bairro *"}),s.jsx(d,{id:"neighborhood",value:t.address.neighborhood,onChange:a=>i("address",{...t.address,neighborhood:a.target.value}),required:!0}),s.jsx(m,{message:o["address.neighborhood"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"city",children:"Cidade *"}),s.jsx(d,{id:"city",value:t.address.city,onChange:a=>i("address",{...t.address,city:a.target.value}),required:!0}),s.jsx(m,{message:o["address.city"]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"state",children:"Estado *"}),s.jsx(d,{id:"state",value:t.address.state,onChange:a=>i("address",{...t.address,state:a.target.value}),required:!0,maxLength:2}),s.jsx(m,{message:o["address.state"]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"zone",children:"Zona Residencial"}),s.jsxs(g,{value:t.address.zone,onValueChange:a=>i("address",{...t.address,zone:a}),children:[s.jsx(j,{children:s.jsx(p,{placeholder:"Selecione"})}),s.jsxs(v,{children:[s.jsx(c,{value:"urbana",children:"Urbana"}),s.jsx(c,{value:"rural",children:"Rural"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"phone_contact",children:"Telefone de Contato (Aluno)"}),s.jsx(d,{id:"phone_contact",value:t.address.phone_contact,onChange:a=>i("address",{...t.address,phone_contact:a.target.value})})]})]}),e[110]=n,e[111]=t,e[112]=o,e[113]=i,e[114]=I):I=e[114];let T;e[115]!==n||e[116]!==t||e[117]!==i?(T=n==="health"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"blood_type",children:"Tipo Sanguíneo"}),s.jsx(d,{id:"blood_type",value:t.health.blood_type,onChange:a=>i("health",{...t.health,blood_type:a.target.value})})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx(ns,{id:"vaccination_updated",checked:t.health.vaccination_updated,onCheckedChange:a=>i("health",{...t.health,vaccination_updated:a})}),s.jsx(l,{htmlFor:"vaccination_updated",children:"Carteira de Vacinação em dia?"})]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"allergies",children:"Alergias"}),s.jsx(U,{id:"allergies",value:t.health.allergies,onChange:a=>i("health",{...t.health,allergies:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"food_restrictions",children:"Restrições Alimentares"}),s.jsx(U,{id:"food_restrictions",value:t.health.food_restrictions,onChange:a=>i("health",{...t.health,food_restrictions:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"continuous_meds",children:"Medicamentos de Uso Contínuo"}),s.jsx(U,{id:"continuous_meds",value:t.health.continuous_meds,onChange:a=>i("health",{...t.health,continuous_meds:a.target.value})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{id:"has_disability",checked:t.health.has_disability,onCheckedChange:a=>i("health",{...t.health,has_disability:a})}),s.jsx(l,{htmlFor:"has_disability",children:"Possui Deficiência / Transtorno?"})]}),t.health.has_disability&&s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"disability_details",children:"Qual?"}),s.jsx(d,{id:"disability_details",value:t.health.disability_details,onChange:a=>i("health",{...t.health,disability_details:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"cid",children:"CID (Opcional)"}),s.jsx(d,{id:"cid",value:t.health.cid,onChange:a=>i("health",{...t.health,cid:a.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"health_plan",children:"Plano de Saúde"}),s.jsx(d,{id:"health_plan",value:t.health.health_plan,onChange:a=>i("health",{...t.health,health_plan:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"health_unit",children:"Unidade de Saúde de Preferência"}),s.jsx(d,{id:"health_unit",value:t.health.health_unit,onChange:a=>i("health",{...t.health,health_unit:a.target.value})})]})]})]}),e[115]=n,e[116]=t,e[117]=i,e[118]=T):T=e[118];let z;e[119]!==n||e[120]!==de||e[121]!==t||e[122]!==o||e[123]!==i?(z=n==="academic"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{htmlFor:"enrollment_date",children:"Data de Matrícula"}),s.jsx(d,{id:"enrollment_date",type:"date",value:t.enrollment_date,onChange:a=>i("enrollment_date",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"status",children:"Situação"}),s.jsxs(g,{value:t.status,onValueChange:a=>i("status",a),children:[s.jsx(j,{children:s.jsx(p,{placeholder:"Selecione"})}),s.jsxs(v,{children:[s.jsx(c,{value:"active",children:"Ativo"}),s.jsx(c,{value:"cancelled",children:"Cancelado"}),s.jsx(c,{value:"transferred",children:"Transferido"}),s.jsx(c,{value:"graduated",children:"Formado"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"class_room_id",children:"Turma"}),s.jsxs(g,{value:t.class_room_id,onValueChange:a=>i("class_room_id",a),children:[s.jsx(j,{children:s.jsx(p,{placeholder:"Selecione a turma"})}),s.jsx(v,{children:de.map(Ts)})]}),s.jsx(m,{message:o.class_room_id})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"origin_school",children:"Escola de Origem"}),s.jsx(d,{id:"origin_school",value:t.origin_school,onChange:a=>i("origin_school",a.target.value)})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"observations",children:"Observações Gerais"}),s.jsx(U,{id:"observations",value:t.observations,onChange:a=>i("observations",a.target.value)})]})]}),e[119]=n,e[120]=de,e[121]=t,e[122]=o,e[123]=i,e[124]=z):z=e[124];let R;e[125]!==n||e[126]!==t||e[127]!==ls||e[128]!==is||e[129]!==F||e[130]!==S||e[131]!==i||e[132]!==r.id||e[133]!==r.name||e[134]!==r.user?(R=n==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg border p-4 shadow-sm bg-gray-50 dark:bg-gray-800",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Acesso ao Sistema"}),r.user?s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100 text-green-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:s.jsx("path",{d:"M20 6 9 17l-5-5"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Acesso Habilitado"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Usuário: ",r.user.username," (",r.user.email,")"]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Este aluno não possui acesso ao sistema."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Crie um usuário para permitir login."})]}),s.jsx(u,{type:"button",variant:"outline",onClick:()=>{confirm("Deseja criar um usuário para este aluno?")&&ds.post(`/admin/students/${r.id}/user`)},children:"Criar Acesso"})]}),r.user&&s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs(Ns,{open:is,onOpenChange:hs,children:[s.jsx(Cs,{asChild:!0,children:s.jsx(u,{variant:"destructive",type:"button",children:"Redefinir Senha"})}),s.jsxs(ws,{children:[s.jsxs(Fs,{children:[s.jsx(Ss,{children:"Redefinir Senha"}),s.jsxs(ks,{children:["Defina uma nova senha para o aluno ",s.jsx("b",{children:r.name}),"."]})]}),s.jsxs("form",{onSubmit:ls,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"new-password",children:"Nova Senha"}),s.jsx(d,{id:"new-password",type:"password",value:F,onChange:a=>ms(a.target.value),required:!0,minLength:8})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"confirm-password",children:"Confirmar Senha"}),s.jsx(d,{id:"confirm-password",type:"password",value:S,onChange:a=>xs(a.target.value),required:!0,minLength:8})]})]}),s.jsx(Ds,{children:s.jsx(u,{type:"submit",children:"Salvar Nova Senha"})})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{id:"exit_authorization",checked:t.exit_authorization,onCheckedChange:a=>i("exit_authorization",a)}),s.jsx(l,{htmlFor:"exit_authorization",children:"Pode ir embora sozinho?"})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"transport_info",children:"Informações de Transporte (Van, Motorista)"}),s.jsx(U,{id:"transport_info",value:t.transport_info,onChange:a=>i("transport_info",a.target.value)})]})]})]}),e[125]=n,e[126]=t,e[127]=ls,e[128]=is,e[129]=F,e[130]=S,e[131]=i,e[132]=r.id,e[133]=r.name,e[134]=r.user,e[135]=R):R=e[135];let V;e[136]!==n||e[137]!==ss||e[138]!==t||e[139]!==O||e[140]!==as||e[141]!==x?(V=n==="guardians"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(g,{value:x,onValueChange:os,children:[s.jsx(j,{className:"w-full",children:s.jsx(p,{placeholder:"Selecione um responsável"})}),s.jsx(v,{children:O.map(Is)})]}),s.jsx(u,{type:"button",onClick:ss,variant:"secondary",children:"Adicionar"})]}),s.jsxs("div",{className:"space-y-2",children:[t.guardian_ids.map(a=>{const M=O.find(ps=>ps.id===a);return M?s.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[M.name," (",M.cpf,")"]}),s.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>as(a),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Remover"})]},a):null}),t.guardian_ids.length===0&&s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Nenhum responsável vinculado."})]})]}),e[136]=n,e[137]=ss,e[138]=t,e[139]=O,e[140]=as,e[141]=x,e[142]=V):V=e[142];let q;e[143]!==Ye?(q=s.jsx("div",{className:"flex items-center justify-end pt-6 border-t",children:s.jsx(u,{className:"ml-4",disabled:Ye,children:"Salvar Alterações"})}),e[143]=Ye,e[144]=q):q=e[144];let L;e[145]!==ts||e[146]!==D||e[147]!==P||e[148]!==A||e[149]!==E||e[150]!==I||e[151]!==T||e[152]!==z||e[153]!==R||e[154]!==V||e[155]!==q?(L=s.jsxs("form",{onSubmit:ts,className:"space-y-6",children:[D,P,A,E,I,T,z,R,V,q]}),e[145]=ts,e[146]=D,e[147]=P,e[148]=A,e[149]=E,e[150]=I,e[151]=T,e[152]=z,e[153]=R,e[154]=V,e[155]=q,e[156]=L):L=e[156];let G;e[157]!==k||e[158]!==L?(G=s.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-y-auto rounded-xl p-2 sm:p-4",children:s.jsxs("div",{className:"mx-auto w-full max-w-4xl rounded-xl border border-sidebar-border/70 bg-white p-4 shadow-sm sm:p-6 dark:border-sidebar-border dark:bg-gray-800",children:[ie,k,L]})}),e[157]=k,e[158]=L,e[159]=G):G=e[159];let le;return e[160]!==ce||e[161]!==G?(le=s.jsxs(ys,{breadcrumbs:ce,children:[re,G]}),e[160]=ce,e[161]=G,e[162]=le):le=e[162],le}function Is(h){return s.jsxs(c,{value:h.id.toString(),children:[h.name," (",h.cpf,")"]},h.id)}function Ts(h){return s.jsx(c,{value:h.id.toString(),children:h.name},h.id)}function zs(h){return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-900 rounded-md border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.template.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Emitido em: ",new Date(h.created_at).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["UUID: ",h.uuid]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(u,{type:"button",variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:`/validate-document/${h.uuid}`,target:"_blank",rel:"noopener noreferrer",children:"Visualizar / Imprimir"})})})]},h.id)}function Rs(){}function Vs(h){return h.id}export{ja as default};
