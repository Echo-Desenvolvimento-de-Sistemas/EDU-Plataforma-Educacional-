import{c as P,r as R,j as t,L as B,b as A,H as z}from"./app-BlZNpJaz.js";import{a as T,A as U}from"./app-layout-vfDevXcM.js";import{B as D}from"./button-BFaAQ1F0.js";import{b as L,e as f,a as $,c as p,T as K,d as q}from"./table-DRoYhqJ6.js";import{a as G,d as J,b as O,c as Q,C as V}from"./card-DE5xUgg4.js";import{I as W}from"./input-ClKI_C3W.js";import{P as X}from"./plus-CcX2yXqX.js";import{S as Y}from"./search-BKAEKSF4.js";import{F as Z}from"./file-text-BPl73Zr-.js";import{E as ee}from"./eye-B6GV-d21.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./chevron-right-BaSAJNUd.js";function De(s){const e=P.c(40),{documents:r,filters:k}=s,[l,F]=R.useState(k.search||"");let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j={title:"Admin",href:"/admin/dashboard"},e[0]=j):j=e[0];let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=[j,{title:"Documentos Emitidos",href:T.documents.index.url()}],e[1]=b):b=e[1];const M=b;let g;e[2]!==l?(g=I=>{I.key==="Enter"&&A.get(T.documents.index.url(),{search:l},{preserveState:!0})},e[2]=l,e[3]=g):g=e[3];const H=g;let _;e[4]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(z,{title:"Documentos Emitidos"}),e[4]=_):_=e[4];let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Documentos Emitidos"}),t.jsx("p",{className:"text-muted-foreground",children:"Histórico de todos os documentos gerados pelo sistema."})]}),e[5]=v):v=e[5];let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[v,t.jsx(D,{asChild:!0,className:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-white",children:t.jsxs(B,{href:T.documents.create.url(),children:[t.jsx(X,{className:"h-4 w-4 mr-2"}),"Emitir Novo Documento"]})})]}),e[6]=N):N=e[6];let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(Y,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e[7]=S):S=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=I=>F(I.target.value),e[8]=y):y=e[8];let a;e[9]!==H||e[10]!==l?(a=t.jsxs("div",{className:"relative flex-1",children:[S,t.jsx(W,{placeholder:"Buscar por aluno ou CPF...",value:l,onChange:y,onKeyDown:H,className:"pl-8"})]}),e[9]=H,e[10]=l,e[11]=a):a=e[11];let i;e[12]!==l?(i=t.jsx(D,{variant:"outline",onClick:()=>A.get(T.documents.index.url(),{search:l},{preserveState:!0}),children:"Buscar"}),e[12]=l,e[13]=i):i=e[13];let o;e[14]!==i||e[15]!==a?(o=t.jsxs("div",{className:"flex items-center gap-2 max-w-sm",children:[a,i]}),e[14]=i,e[15]=a,e[16]=o):o=e[16];let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(O,{children:"Histórico"}),e[17]=C):C=e[17];let n;e[18]!==r.from||e[19]!==r.to||e[20]!==r.total?(n=t.jsxs(G,{children:[C,t.jsxs(J,{children:["Mostrando ",r.from,"-",r.to," de ",r.total," registros"]})]}),e[18]=r.from,e[19]=r.to,e[20]=r.total,e[21]=n):n=e[21];let w;e[22]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx($,{children:t.jsxs(L,{children:[t.jsx(p,{children:"Aluno"}),t.jsx(p,{children:"Documento"}),t.jsx(p,{children:"Data Emissão"}),t.jsx(p,{children:"UUID"}),t.jsx(p,{className:"text-right",children:"Ações"})]})}),e[22]=w):w=e[22];let c;e[23]!==r.data?(c=r.data.length>0?r.data.map(se):t.jsx(L,{children:t.jsx(f,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"Nenhum documento encontrado."})}),e[23]=r.data,e[24]=c):c=e[24];let m;e[25]!==c?(m=t.jsx("div",{className:"rounded-md border",children:t.jsxs(K,{children:[w,t.jsx(q,{children:c})]})}),e[25]=c,e[26]=m):m=e[26];let d;e[27]!==r.links?(d=r.links.map(te),e[27]=r.links,e[28]=d):d=e[28];let x;e[29]!==d?(x=t.jsx("div",{className:"mt-4 flex justify-center",children:t.jsx("div",{className:"flex gap-1",children:d})}),e[29]=d,e[30]=x):x=e[30];let h;e[31]!==m||e[32]!==x?(h=t.jsxs(Q,{children:[m,x]}),e[31]=m,e[32]=x,e[33]=h):h=e[33];let u;e[34]!==n||e[35]!==h?(u=t.jsxs(V,{children:[n,h]}),e[34]=n,e[35]=h,e[36]=u):u=e[36];let E;return e[37]!==o||e[38]!==u?(E=t.jsxs(U,{breadcrumbs:M,children:[_,t.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[N,o,u]})]}),e[37]=o,e[38]=u,e[39]=E):E=e[39],E}function te(s,e){return t.jsx(D,{variant:s.active?"default":"outline",size:"sm",asChild:!!s.url,disabled:!s.url,className:s.url?"":"pointer-events-none opacity-50",children:s.url?t.jsx(B,{href:s.url,preserveState:!0,children:t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})}):t.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},e)}function se(s){return t.jsxs(L,{children:[t.jsxs(f,{className:"font-medium",children:[t.jsx("div",{children:s.student.name}),t.jsx("div",{className:"text-xs text-muted-foreground",children:s.student.cpf})]}),t.jsx(f,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),s.template.title]})}),t.jsx(f,{children:new Date(s.created_at).toLocaleString()}),t.jsx(f,{className:"font-mono text-xs text-muted-foreground",children:s.uuid}),t.jsx(f,{className:"text-right",children:t.jsx(D,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx("a",{href:`/validate-document/${s.uuid}`,target:"_blank",rel:"noopener noreferrer",children:t.jsx(ee,{className:"h-4 w-4"})})})})]},s.id)}export{De as default};
