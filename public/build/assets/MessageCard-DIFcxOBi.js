import{c as A,r as F,j as a}from"./app-BlZNpJaz.js";import{B as M}from"./button-BFaAQ1F0.js";import{c as R}from"./createLucideIcon-G_Aima0p.js";import{C as V}from"./check-C5YBzlMP.js";import{F as K}from"./file-text-BPl73Zr-.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],W=R("CheckCheck",S),Y=k=>{const e=A.c(65),{message:t}=k,[C,I]=F.useState(!1);t.visual_context;const z=t.body.length>200&&!C,L=`flex ${t.is_me?"justify-end":"justify-start"} mb-4`,T=`flex gap-3 max-w-[90%] sm:max-w-[80%] md:max-w-[60%] lg:max-w-[500px] ${t.is_me?"flex-row-reverse":"flex-row"}`;let r;e[0]!==t.is_me||e[1]!==t.sender?(r=!t.is_me&&a.jsx("div",{className:"flex-shrink-0",children:t.sender.avatar?a.jsx("img",{src:t.sender.avatar,alt:t.sender.name,className:"w-10 h-10 rounded-full border border-gray-200"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold border border-gray-300",children:t.sender.name.charAt(0)})}),e[0]=t.is_me,e[1]=t.sender,e[2]=r):r=e[2];let l;e[3]!==t.visual_context?(l={borderTopColor:t.visual_context,borderTopWidth:"4px"},e[3]=t.visual_context,e[4]=l):l=e[4];const $=t.is_me?"VocÃª":t.sender.name;let d;e[5]!==$?(d=a.jsx("span",{className:"font-bold text-sm text-gray-900 dark:text-gray-100 leading-tight truncate",children:$}),e[5]=$,e[6]=d):d=e[6];let i;e[7]!==t.is_me||e[8]!==t.sender?(i=!t.is_me&&t.sender.role&&a.jsx("span",{className:"text-[10px] uppercase tracking-wide font-medium text-gray-500 leading-none",children:t.sender.role}),e[7]=t.is_me,e[8]=t.sender,e[9]=i):i=e[9];let n;e[10]!==t.visual_context?(n={backgroundColor:t.visual_context},e[10]=t.visual_context,e[11]=n):n=e[11];const B=t.type_label||t.type;let o;e[12]!==n||e[13]!==B?(o=a.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider text-white whitespace-nowrap mt-0.5",style:n,children:B}),e[12]=n,e[13]=B,e[14]=o):o=e[14];let c;e[15]!==o||e[16]!==d||e[17]!==i?(c=a.jsxs("div",{className:"flex flex-col min-w-0 items-start gap-1",children:[d,i,o]}),e[15]=o,e[16]=d,e[17]=i,e[18]=c):c=e[18];let m;e[19]!==t.created_at_human?(m=a.jsx("div",{className:"flex items-center pt-0.5",children:a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:t.created_at_human})}),e[19]=t.created_at_human,e[20]=m):m=e[20];let x;e[21]!==c||e[22]!==m?(x=a.jsxs("div",{className:"flex items-start justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-700/50 gap-2",children:[c,m]}),e[21]=c,e[22]=m,e[23]=x):x=e[23];let p;e[24]!==t.metadata?(p=t.metadata?.banner_image&&a.jsx("div",{className:"w-full bg-gray-50 border-b border-gray-100 dark:border-gray-700/50",children:a.jsx("img",{src:t.metadata.banner_image,alt:"Banner",className:"w-full h-auto object-contain"})}),e[24]=t.metadata,e[25]=p):p=e[25];let g;e[26]!==t.title?(g=t.title&&a.jsx("h3",{className:"text-base font-bold text-gray-800 dark:text-gray-100 leading-snug",children:t.title}),e[26]=t.title,e[27]=g):g=e[27];let u;e[28]!==z||e[29]!==t.body?(u=z?`${t.body.substring(0,200)}...`:t.body,e[28]=z,e[29]=t.body,e[30]=u):u=e[30];let h;e[31]!==u?(h=a.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:u}),e[31]=u,e[32]=h):h=e[32];let f;e[33]!==C||e[34]!==t.body.length?(f=t.body.length>200&&a.jsx("button",{onClick:()=>I(!C),className:"text-xs font-semibold text-blue-600 hover:text-blue-700 dark:text-blue-400 mt-1 focus:outline-none",children:C?"Ler menos":"Ver mais"}),e[33]=C,e[34]=t.body.length,e[35]=f):f=e[35];let b;e[36]!==g||e[37]!==h||e[38]!==f?(b=a.jsxs("div",{className:"p-4 space-y-2",children:[g,h,f]}),e[36]=g,e[37]=h,e[38]=f,e[39]=b):b=e[39];let y;e[40]!==t.metadata?(y=t.metadata?.attachments&&t.metadata.attachments.length>0&&a.jsx("div",{className:"px-4 pb-3 space-y-2",children:t.metadata.attachments.map(D)}),e[40]=t.metadata,e[41]=y):y=e[41];let v;e[42]!==t.actions||e[43]!==t.visual_context?(v=t.actions&&t.actions.length>0&&a.jsx("div",{className:"px-4 pb-4 pt-2",children:t.actions.map((s,q)=>a.jsx(M,{className:"w-full shadow-sm font-semibold rounded-lg",variant:s.style==="outline"?"outline":"default",style:{backgroundColor:s.style==="primary"?t.visual_context:void 0,borderColor:s.style==="primary"?t.visual_context:void 0},onClick:()=>{s.type==="LINK"&&s.data?window.open(s.data,"_blank"):console.log("Action Clicked",s)},children:s.label},q))}),e[42]=t.actions,e[43]=t.visual_context,e[44]=v):v=e[44];let j;e[45]!==t.is_me||e[46]!==t.read_at?(j=t.is_me&&a.jsx("span",{className:t.read_at?"text-blue-500":"text-gray-400",children:t.read_at?a.jsx(W,{size:14}):a.jsx(V,{size:14})}),e[45]=t.is_me,e[46]=t.read_at,e[47]=j):j=e[47];let _;e[48]!==j?(_=a.jsx("div",{className:"px-3 pb-2 flex justify-end",children:a.jsx("div",{className:"flex items-center gap-1 text-[10px] text-gray-400 font-medium",children:j})}),e[48]=j,e[49]=_):_=e[49];let w;e[50]!==x||e[51]!==p||e[52]!==b||e[53]!==y||e[54]!==v||e[55]!==_||e[56]!==l?(w=a.jsxs("div",{className:"flex-1 rounded-2xl shadow-sm border bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm overflow-hidden relative",style:l,children:[x,p,b,y,v,_]}),e[50]=x,e[51]=p,e[52]=b,e[53]=y,e[54]=v,e[55]=_,e[56]=l,e[57]=w):w=e[57];let N;e[58]!==T||e[59]!==w||e[60]!==r?(N=a.jsxs("div",{className:T,children:[r,w]}),e[58]=T,e[59]=w,e[60]=r,e[61]=N):N=e[61];let E;return e[62]!==L||e[63]!==N?(E=a.jsx("div",{className:L,children:N}),e[62]=L,e[63]=N,e[64]=E):E=e[64],E};function D(k,e){return a.jsxs("a",{href:k.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 border border-gray-100 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer group",children:[a.jsx("div",{className:"p-2 rounded bg-white dark:bg-gray-600 text-blue-500 shadow-sm group-hover:text-blue-600",children:a.jsx(K,{size:16})}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-200 truncate group-hover:underline decoration-blue-500/50",children:k.name}),a.jsx("p",{className:"text-[10px] text-gray-500",children:k.size})]})]},e)}export{Y as MessageCard};
