import{c as u,j as e,H as b}from"./app-BlZNpJaz.js";import{c as y,b as f,a as j,C as N}from"./card-DE5xUgg4.js";import{C as w}from"./circle-check-big-Z2DzYajz.js";import{C as v}from"./circle-x-rOJR2NhE.js";/* empty css            */import"./utils-CTsRgsKi.js";import"./createLucideIcon-G_Aima0p.js";function V(g){const t=u.c(17),{isValid:a,message:c,document:s}=g;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(b,{title:"Validação de Documento"}),t[0]=o):o=t[0];const m=`text-center py-8 rounded-t-lg ${a?"bg-green-50":"bg-red-50"} print:hidden`;let r;t[1]!==a?(r=e.jsx("div",{className:"flex justify-center mb-4",children:a?e.jsx(w,{className:"h-16 w-16 text-green-600"}):e.jsx(v,{className:"h-16 w-16 text-red-600"})}),t[1]=a,t[2]=r):r=t[2];const x=`text-2xl font-bold ${a?"text-green-700":"text-red-700"}`,p=a?"DOCUMENTO VÁLIDO":"DOCUMENTO INVÁLIDO";let d;t[3]!==x||t[4]!==p?(d=e.jsx(f,{className:x,children:p}),t[3]=x,t[4]=p,t[5]=d):d=t[5];let n;t[6]!==m||t[7]!==r||t[8]!==d?(n=e.jsxs(j,{className:m,children:[r,d]}),t[6]=m,t[7]=r,t[8]=d,t[9]=n):n=t[9];let i;t[10]!==s||t[11]!==a||t[12]!==c?(i=e.jsx(y,{className:"pt-8 pb-8 space-y-4",children:a&&s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Este documento foi emitido oficialmente pelo sistema Edu Escola."})}),e.jsxs("div",{className:"space-y-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-4 rounded-md text-left",children:[e.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Aluno"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s.student_name})]}),e.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Tipo de Documento"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.document_type})]}),e.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Data de Emissão"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.issued_at})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Código de Verificação"}),e.jsx("p",{className:"font-mono text-sm break-all text-gray-900 dark:text-gray-100",children:s.uuid})]})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-400 print:hidden",children:e.jsx("p",{children:"A autenticidade deste documento pode ser verificada a qualquer momento através deste link."})}),s.content_snapshot&&e.jsxs("div",{className:"mt-8 border-t pt-8",children:[e.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:e.jsxs("button",{onClick:()=>{const h=window.open("","_blank");h&&s.content_snapshot&&(h.document.write(`
                                                        <html>
                                                            <head>
                                                                <title>${s.student_name} - ${s.document_type}</title>
                                                                <style>
                                                                    body { 
                                                                        font-family: 'Times New Roman', Times, serif; 
                                                                        margin: 0;
                                                                        padding: 2cm;
                                                                    }
                                                                    img { max-width: 100%; }
                                                                    @media print {
                                                                        @page { margin: 0; }
                                                                        body { padding: 2cm; }
                                                                    }
                                                                </style>
                                                            </head>
                                                            <body>
                                                                ${s.content_snapshot}
                                                                <script>
                                                                    window.onload = function() { 
                                                                        setTimeout(() => { window.print(); }, 500); 
                                                                    }
                                                                <\/script>
                                                            </body>
                                                        </html>
                                                    `),h.document.close())},className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Imprimir Documento"]})}),e.jsx("div",{className:"document-preview border p-8 bg-white text-black shadow-sm print:shadow-none print:border-0",dangerouslySetInnerHTML:{__html:s.content_snapshot}})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-700 text-lg",children:c||"O código informado não corresponde a nenhum documento válido em nossa base de dados."}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Se acredita que isso é um erro, entre em contato com a secretaria da escola."})]})}),t[10]=s,t[11]=a,t[12]=c,t[13]=i):i=t[13];let l;return t[14]!==n||t[15]!==i?(l=e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",children:[o,e.jsxs(N,{className:"w-full max-w-lg shadow-lg",children:[n,i]})]}),t[14]=n,t[15]=i,t[16]=l):l=t[16],l}export{V as default};
