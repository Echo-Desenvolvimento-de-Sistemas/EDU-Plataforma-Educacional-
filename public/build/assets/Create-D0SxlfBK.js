import{c as As,u as Ls,r as d,j as s,a as Ps,H as Vs}from"./app-BlZNpJaz.js";import{A as Ds,a as _s}from"./app-layout-vfDevXcM.js";import{I as ve}from"./input-error-CQJoVgr4.js";import{B as ps}from"./button-BFaAQ1F0.js";import{I as c}from"./input-ClKI_C3W.js";import{L as n}from"./label-D4nWcODD.js";import{c as Ke,S as Me,a as Qe,b as Ue,d as m}from"./select-wa9XAM0x.js";import{T as Hs,a as Bs,b as Ss,c as Xe,d as Gs,e as Ye}from"./table-DRoYhqJ6.js";import{T as Os}from"./trash-2-C65_v2RJ.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";import"./check-C5YBzlMP.js";const qs=[{title:"Dashboard Admin",href:"/admin/dashboard"},{title:"Responsáveis",href:"/admin/guardians"},{title:"Novo Responsável",href:"/admin/guardians/create"}];function _t(r){const e=As.c(187),{grades:_e}=r;let Se;e[0]===Symbol.for("react.memo_cache_sentinel")?(Se=[],e[0]=Se):Se=e[0];let ye;e[1]===Symbol.for("react.memo_cache_sentinel")?(ye={name:"",email:"",cpf:"",phone:"",rg:"",profession:"",workplace:"",phone_work:"",phone_home:"",students:Se},e[1]=ye):ye=e[1];const{data:l,setData:i,post:Ze,processing:es,errors:a}=Ls(ye);let Ne;e[2]!==Ze?(Ne=t=>{t.preventDefault(),Ze(_s.guardians.store.url())},e[2]=Ze,e[3]=Ne):Ne=e[3];const ss=Ne,[h,ys]=d.useState(""),[o,Ns]=d.useState("");let Ce;e[4]===Symbol.for("react.memo_cache_sentinel")?(Ce=[],e[4]=Ce):Ce=e[4];const[ke,xs]=d.useState(Ce),[f,us]=d.useState(""),[p,gs]=d.useState(""),[js,bs]=d.useState(!1),vs=h?_e.find(t=>String(t.id)===h)?.class_rooms||[]:[];let we,Te;e[5]!==o?(we=()=>{o?(bs(!0),Ps.get(_s.api.classes.students.url({classRoom:Number(o)})).then(t=>{xs(t.data)}).finally(()=>bs(!1))):xs([])},Te=[o],e[5]=o,e[6]=we,e[7]=Te):(we=e[6],Te=e[7]),d.useEffect(we,Te);const ts=()=>{if(!f||!p)return;const t=ke.find(be=>String(be.id)===f),fs=vs.find(be=>String(be.id)===o);if(!t)return;if(l.students.some(be=>be.student_id===t.id)){alert("Estudante já adicionado à lista.");return}const Is={student_id:t.id,name:t.name,class_name:fs?.name||"",type:p};i("students",[...l.students,Is]),us(""),gs("")};let Fe;e[8]!==l.students||e[9]!==i?(Fe=t=>{i("students",l.students.filter(fs=>fs.student_id!==t))},e[8]=l.students,e[9]=i,e[10]=Fe):Fe=e[10];const ls=Fe,is=Ds,as=qs;let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(Vs,{title:"Novo Responsável"}),e[11]=x):x=e[11];const Cs="flex h-full flex-1 flex-col gap-4 overflow-y-auto rounded-xl p-4",ks="mx-auto w-full max-w-4xl rounded-xl border border-sidebar-border/70 bg-white p-6 shadow-sm dark:border-sidebar-border dark:bg-sidebar-accent/10";let u;e[12]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Novo Responsável"}),e[12]=u):u=e[12];const ws="space-y-8";let Re;e[13]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Dados Pessoais"}),e[13]=Re):Re=e[13];let Ee;e[14]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(n,{htmlFor:"name",children:"Nome Completo *"}),e[14]=Ee):Ee=e[14];let g;e[15]!==i?(g=t=>i("name",t.target.value),e[15]=i,e[16]=g):g=e[16];let j;e[17]!==l.name||e[18]!==g?(j=s.jsx(c,{id:"name",value:l.name,onChange:g,required:!0}),e[17]=l.name,e[18]=g,e[19]=j):j=e[19];let b;e[20]!==a.name?(b=s.jsx(ve,{message:a.name}),e[20]=a.name,e[21]=b):b=e[21];let v;e[22]!==j||e[23]!==b?(v=s.jsxs("div",{children:[Ee,j,b]}),e[22]=j,e[23]=b,e[24]=v):v=e[24];let Ie;e[25]===Symbol.for("react.memo_cache_sentinel")?(Ie=s.jsx(n,{htmlFor:"email",children:"Email"}),e[25]=Ie):Ie=e[25];let _;e[26]!==i?(_=t=>i("email",t.target.value),e[26]=i,e[27]=_):_=e[27];let S;e[28]!==l.email||e[29]!==_?(S=s.jsx(c,{id:"email",type:"email",value:l.email,onChange:_}),e[28]=l.email,e[29]=_,e[30]=S):S=e[30];let y;e[31]!==a.email?(y=s.jsx(ve,{message:a.email}),e[31]=a.email,e[32]=y):y=e[32];let N;e[33]!==S||e[34]!==y?(N=s.jsxs("div",{children:[Ie,S,y]}),e[33]=S,e[34]=y,e[35]=N):N=e[35];let C;e[36]!==v||e[37]!==N?(C=s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[v,N]}),e[36]=v,e[37]=N,e[38]=C):C=e[38];let Ae;e[39]===Symbol.for("react.memo_cache_sentinel")?(Ae=s.jsx(n,{htmlFor:"cpf",children:"CPF *"}),e[39]=Ae):Ae=e[39];let k;e[40]!==i?(k=t=>i("cpf",t.target.value),e[40]=i,e[41]=k):k=e[41];let w;e[42]!==l.cpf||e[43]!==k?(w=s.jsx(c,{id:"cpf",value:l.cpf,onChange:k,required:!0}),e[42]=l.cpf,e[43]=k,e[44]=w):w=e[44];let T;e[45]!==a.cpf?(T=s.jsx(ve,{message:a.cpf}),e[45]=a.cpf,e[46]=T):T=e[46];let F;e[47]!==w||e[48]!==T?(F=s.jsxs("div",{children:[Ae,w,T]}),e[47]=w,e[48]=T,e[49]=F):F=e[49];let Le;e[50]===Symbol.for("react.memo_cache_sentinel")?(Le=s.jsx(n,{htmlFor:"rg",children:"RG"}),e[50]=Le):Le=e[50];let R;e[51]!==i?(R=t=>i("rg",t.target.value),e[51]=i,e[52]=R):R=e[52];let E;e[53]!==l.rg||e[54]!==R?(E=s.jsx(c,{id:"rg",value:l.rg,onChange:R}),e[53]=l.rg,e[54]=R,e[55]=E):E=e[55];let I;e[56]!==a.rg?(I=s.jsx(ve,{message:a.rg}),e[56]=a.rg,e[57]=I):I=e[57];let A;e[58]!==E||e[59]!==I?(A=s.jsxs("div",{children:[Le,E,I]}),e[58]=E,e[59]=I,e[60]=A):A=e[60];let Pe;e[61]===Symbol.for("react.memo_cache_sentinel")?(Pe=s.jsx(n,{htmlFor:"phone",children:"Celular (WhatsApp)"}),e[61]=Pe):Pe=e[61];let L;e[62]!==i?(L=t=>i("phone",t.target.value),e[62]=i,e[63]=L):L=e[63];let P;e[64]!==l.phone||e[65]!==L?(P=s.jsx(c,{id:"phone",value:l.phone,onChange:L}),e[64]=l.phone,e[65]=L,e[66]=P):P=e[66];let V;e[67]!==a.phone?(V=s.jsx(ve,{message:a.phone}),e[67]=a.phone,e[68]=V):V=e[68];let D;e[69]!==P||e[70]!==V?(D=s.jsxs("div",{children:[Pe,P,V]}),e[69]=P,e[70]=V,e[71]=D):D=e[71];let H;e[72]!==F||e[73]!==A||e[74]!==D?(H=s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[F,A,D]}),e[72]=F,e[73]=A,e[74]=D,e[75]=H):H=e[75];let Ve;e[76]===Symbol.for("react.memo_cache_sentinel")?(Ve=s.jsx(n,{htmlFor:"profession",children:"Profissão"}),e[76]=Ve):Ve=e[76];let B;e[77]!==i?(B=t=>i("profession",t.target.value),e[77]=i,e[78]=B):B=e[78];let G;e[79]!==l.profession||e[80]!==B?(G=s.jsxs("div",{children:[Ve,s.jsx(c,{id:"profession",value:l.profession,onChange:B})]}),e[79]=l.profession,e[80]=B,e[81]=G):G=e[81];let De;e[82]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(n,{htmlFor:"workplace",children:"Local de Trabalho"}),e[82]=De):De=e[82];let O;e[83]!==i?(O=t=>i("workplace",t.target.value),e[83]=i,e[84]=O):O=e[84];let q;e[85]!==l.workplace||e[86]!==O?(q=s.jsxs("div",{children:[De,s.jsx(c,{id:"workplace",value:l.workplace,onChange:O})]}),e[85]=l.workplace,e[86]=O,e[87]=q):q=e[87];let z;e[88]!==G||e[89]!==q?(z=s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[G,q]}),e[88]=G,e[89]=q,e[90]=z):z=e[90];let He;e[91]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx(n,{htmlFor:"phone_work",children:"Telefone Comercial"}),e[91]=He):He=e[91];let W;e[92]!==i?(W=t=>i("phone_work",t.target.value),e[92]=i,e[93]=W):W=e[93];let $;e[94]!==l.phone_work||e[95]!==W?($=s.jsxs("div",{children:[He,s.jsx(c,{id:"phone_work",value:l.phone_work,onChange:W})]}),e[94]=l.phone_work,e[95]=W,e[96]=$):$=e[96];let Be;e[97]===Symbol.for("react.memo_cache_sentinel")?(Be=s.jsx(n,{htmlFor:"phone_home",children:"Telefone Residencial"}),e[97]=Be):Be=e[97];let J;e[98]!==i?(J=t=>i("phone_home",t.target.value),e[98]=i,e[99]=J):J=e[99];let K;e[100]!==l.phone_home||e[101]!==J?(K=s.jsxs("div",{children:[Be,s.jsx(c,{id:"phone_home",value:l.phone_home,onChange:J})]}),e[100]=l.phone_home,e[101]=J,e[102]=K):K=e[102];let M;e[103]!==$||e[104]!==K?(M=s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[$,K]}),e[103]=$,e[104]=K,e[105]=M):M=e[105];let Q;e[106]!==C||e[107]!==H||e[108]!==z||e[109]!==M?(Q=s.jsxs("div",{className:"space-y-4",children:[Re,C,H,z,M]}),e[106]=C,e[107]=H,e[108]=z,e[109]=M,e[110]=Q):Q=e[110];const Ts="space-y-4 pt-6 border-t";let U;e[111]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center justify-between",children:["Vínculo com Estudantes",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"Opcional"})]}),e[111]=U):U=e[111];const Fs="bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border",Rs="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4";let Ge;e[112]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx(n,{children:"Série"}),e[112]=Ge):Ge=e[112];let Oe;e[113]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsx(Qe,{children:s.jsx(Ue,{placeholder:"Selecione..."})}),e[113]=Oe):Oe=e[113];let X;e[114]!==_e?(X=_e.map($s),e[114]=_e,e[115]=X):X=e[115];let Y;e[116]!==X?(Y=s.jsx(Ke,{children:X}),e[116]=X,e[117]=Y):Y=e[117];let Z;e[118]!==h||e[119]!==Y?(Z=s.jsxs("div",{className:"space-y-2",children:[Ge,s.jsxs(Me,{value:h,onValueChange:ys,children:[Oe,Y]})]}),e[118]=h,e[119]=Y,e[120]=Z):Z=e[120];const Es="space-y-2";let ee;e[121]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx(n,{children:"Turma"}),e[121]=ee):ee=e[121];const rs=Me,ns=!h;let se;e[122]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(Qe,{children:s.jsx(Ue,{placeholder:"Selecione..."})}),e[122]=se):se=e[122];const os=Ke,cs=vs.map(Ws);let te;e[123]!==os||e[124]!==cs?(te=s.jsx(os,{children:cs}),e[123]=os,e[124]=cs,e[125]=te):te=e[125];let le;e[126]!==rs||e[127]!==o||e[128]!==ns||e[129]!==se||e[130]!==te?(le=s.jsxs(rs,{value:o,onValueChange:Ns,disabled:ns,children:[se,te]}),e[126]=rs,e[127]=o,e[128]=ns,e[129]=se,e[130]=te,e[131]=le):le=e[131];let ie;e[132]!==ee||e[133]!==le?(ie=s.jsxs("div",{className:Es,children:[ee,le]}),e[132]=ee,e[133]=le,e[134]=ie):ie=e[134];let ae;e[135]!==Z||e[136]!==ie?(ae=s.jsxs("div",{className:Rs,children:[Z,ie]}),e[135]=Z,e[136]=ie,e[137]=ae):ae=e[137];let qe;e[138]===Symbol.for("react.memo_cache_sentinel")?(qe=s.jsx(n,{children:"Estudante"}),e[138]=qe):qe=e[138];const ds=!o||js,ms=js?"Carregando...":"Selecione...";let re;e[139]!==ms?(re=s.jsx(Qe,{children:s.jsx(Ue,{placeholder:ms})}),e[139]=ms,e[140]=re):re=e[140];let ne;e[141]!==ke?(ne=ke.map(zs),e[141]=ke,e[142]=ne):ne=e[142];let oe;e[143]!==ne?(oe=s.jsx(Ke,{children:ne}),e[143]=ne,e[144]=oe):oe=e[144];let ce;e[145]!==f||e[146]!==ds||e[147]!==re||e[148]!==oe?(ce=s.jsxs("div",{className:"space-y-2",children:[qe,s.jsxs(Me,{value:f,onValueChange:us,disabled:ds,children:[re,oe]})]}),e[145]=f,e[146]=ds,e[147]=re,e[148]=oe,e[149]=ce):ce=e[149];let ze;e[150]===Symbol.for("react.memo_cache_sentinel")?(ze=s.jsx(n,{children:"Tipo de Responsabilidade"}),e[150]=ze):ze=e[150];let We;e[151]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsx(Qe,{children:s.jsx(Ue,{placeholder:"Selecione..."})}),e[151]=We):We=e[151];let $e;e[152]===Symbol.for("react.memo_cache_sentinel")?($e=s.jsxs(Ke,{children:[s.jsx(m,{value:"financial",children:"Financeiro"}),s.jsx(m,{value:"pedagogic",children:"Pedagógico"}),s.jsx(m,{value:"both",children:"Ambos"}),s.jsx(m,{value:"other",children:"Outro"})]}),e[152]=$e):$e=e[152];let de;e[153]!==p?(de=s.jsxs("div",{className:"space-y-2",children:[ze,s.jsxs(Me,{value:p,onValueChange:gs,children:[We,$e]})]}),e[153]=p,e[154]=de):de=e[154];let me;e[155]!==ce||e[156]!==de?(me=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ce,de]}),e[155]=ce,e[156]=de,e[157]=me):me=e[157];const hs=!f||!p;let he;e[158]!==ts||e[159]!==hs?(he=s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ps,{type:"button",variant:"secondary",onClick:ts,disabled:hs,children:"Adicionar Estudante"})}),e[158]=ts,e[159]=hs,e[160]=he):he=e[160];let fe;e[161]!==ae||e[162]!==me||e[163]!==he?(fe=s.jsxs("div",{className:Fs,children:[ae,me,he]}),e[161]=ae,e[162]=me,e[163]=he,e[164]=fe):fe=e[164];let pe;e[165]!==l.students||e[166]!==ls?(pe=l.students.length>0&&s.jsx("div",{className:"rounded-md border",children:s.jsxs(Hs,{children:[s.jsx(Bs,{children:s.jsxs(Ss,{children:[s.jsx(Xe,{children:"Estudante"}),s.jsx(Xe,{children:"Turma"}),s.jsx(Xe,{children:"Tipo"}),s.jsx(Xe,{className:"text-right",children:"Ações"})]})}),s.jsx(Gs,{children:l.students.map(t=>s.jsxs(Ss,{children:[s.jsx(Ye,{children:t.name}),s.jsx(Ye,{children:t.class_name}),s.jsx(Ye,{children:t.type==="both"?"Financeiro e Pedagógico":t.type==="financial"?"Financeiro":t.type==="pedagogic"?"Pedagógico":"Outro"}),s.jsx(Ye,{className:"text-right",children:s.jsx(ps,{type:"button",variant:"ghost",size:"icon",onClick:()=>ls(t.student_id),className:"text-red-500 hover:bg-red-50",children:s.jsx(Os,{className:"h-4 w-4"})})})]},t.student_id))})]})}),e[165]=l.students,e[166]=ls,e[167]=pe):pe=e[167];let xe;e[168]!==U||e[169]!==fe||e[170]!==pe?(xe=s.jsxs("div",{className:Ts,children:[U,fe,pe]}),e[168]=U,e[169]=fe,e[170]=pe,e[171]=xe):xe=e[171];let ue;e[172]!==es?(ue=s.jsx("div",{className:"flex items-center justify-end pt-6 border-t",children:s.jsx(ps,{className:"ml-4",disabled:es,children:"Criar Responsável"})}),e[172]=es,e[173]=ue):ue=e[173];let ge;e[174]!==ss||e[175]!==Q||e[176]!==xe||e[177]!==ue?(ge=s.jsxs("form",{onSubmit:ss,className:ws,children:[Q,xe,ue]}),e[174]=ss,e[175]=Q,e[176]=xe,e[177]=ue,e[178]=ge):ge=e[178];let je;e[179]!==u||e[180]!==ge?(je=s.jsx("div",{className:Cs,children:s.jsxs("div",{className:ks,children:[u,ge]})}),e[179]=u,e[180]=ge,e[181]=je):je=e[181];let Je;return e[182]!==is||e[183]!==as||e[184]!==x||e[185]!==je?(Je=s.jsxs(is,{breadcrumbs:as,children:[x,je]}),e[182]=is,e[183]=as,e[184]=x,e[185]=je,e[186]=Je):Je=e[186],Je}function zs(r){return s.jsx(m,{value:String(r.id),children:r.name},r.id)}function Ws(r){return s.jsx(m,{value:String(r.id),children:r.name},r.id)}function $s(r){return s.jsx(m,{value:String(r.id),children:r.name},r.id)}export{_t as default};
