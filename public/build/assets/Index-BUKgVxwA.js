import{c as Os,u as Vs,r as re,e as Hs,j as s,b as bs,H as Gs}from"./app-BlZNpJaz.js";import{S as Rs}from"./student-registration-card-Dbd65Egb.js";import{h as qs,a as We,T as Us,P as Ys,A as Qs}from"./app-layout-vfDevXcM.js";import{B as o}from"./button-BFaAQ1F0.js";import{I as As}from"./input-ClKI_C3W.js";import{L as m}from"./label-D4nWcODD.js";import{a as Js,b as Es,c as h,e as p,T as Ks,d as Ws}from"./table-DRoYhqJ6.js";import{a as X,b as Z,C as ee,c as se}from"./card-DE5xUgg4.js";import{S as Xe,a as Ze,b as es,c as ss,d as ie}from"./select-wa9XAM0x.js";import{B as Ps}from"./badge-hQq2_SSh.js";import{c as _s,d as Ns,b as ys,D as vs,e as Ss,f as ws}from"./dialog-CCWmf-Wy.js";import{C as Ms}from"./copy-CZSnrNay.js";import{S as Xs}from"./school-DbaGeIye.js";import{C as Fs}from"./check-C5YBzlMP.js";import{C as Zs}from"./clock-DL2owC6n.js";import{c as et}from"./createLucideIcon-G_Aima0p.js";import{P as st}from"./plus-CcX2yXqX.js";import{E as tt}from"./eye-B6GV-d21.js";import{T as at}from"./trash-2-C65_v2RJ.js";/* empty css            */import"./separator-RbYn2Kme.js";import"./index-ePvy9ijt.js";import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]],Is=et("CircleArrowRight",lt);function Qt(i){const e=Os.c(160),{preRegistrations:ts,classRooms:ce,students:as,academicYears:ls,stats:te}=i;let ne;e[0]===Symbol.for("react.memo_cache_sentinel")?(ne={student_name:"",target_class_id:"",student_id:"",type:"new"},e[0]=ne):ne=e[0];const{data:n,setData:d,post:rs,processing:is,errors:c,reset:cs}=Vs(ne),[ae,Cs]=re.useState(null),[t,ks]=re.useState(null),[le,oe]=re.useState(null),[ns,de]=re.useState(!1),[x,Ls]=re.useState("");let me;e[1]!==ce||e[2]!==x?(me=x?ce.filter(r=>r.academic_year_id.toString()===x):ce,e[1]=ce,e[2]=x,e[3]=me):me=e[3];const os=me;let xe;e[4]!==rs||e[5]!==cs?(xe=r=>{r.preventDefault(),rs(We.preRegistrations.store.url(),{onSuccess:()=>cs()})},e[4]=rs,e[5]=cs,e[6]=xe):xe=e[6];const ds=xe;let he;e[7]===Symbol.for("react.memo_cache_sentinel")?(he=(r,l)=>{const Bs=`${window.location.origin}/pre-matricula/${r}`;navigator.clipboard.writeText(Bs),Cs(l),setTimeout(()=>Cs(null),2e3)},e[7]=he):he=e[7];const Ts=he;let pe;e[8]!==le?(pe=()=>{le&&bs.delete(We.preRegistrations.destroy.url(le.id),{onSuccess:()=>oe(null)})},e[8]=le,e[9]=pe):pe=e[9];const ms=pe,Ds=ot,zs=nt,{settings:a}=Hs().props;let ue,fe;e[10]===Symbol.for("react.memo_cache_sentinel")?(ue=[{title:"Dashboard",href:"/dashboard"},{title:"Pré-Matrículas",href:"/admin/pre-registrations"}],fe=s.jsx(Gs,{title:"Pré-Matrículas"}),e[10]=ue,e[11]=fe):(ue=e[10],fe=e[11]);let je;e[12]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Total de Registros"}),s.jsx(Xs,{className:"h-4 w-4 text-muted-foreground"})]}),e[12]=je):je=e[12];const xs=te?.total??0;let u;e[13]!==xs?(u=s.jsxs(ee,{children:[je,s.jsx(se,{children:s.jsx("div",{className:"text-2xl font-bold",children:xs})})]}),e[13]=xs,e[14]=u):u=e[14];let ge;e[15]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Concluídas"}),s.jsx(Fs,{className:"h-4 w-4 text-green-500"})]}),e[15]=ge):ge=e[15];const hs=te?.completed??0;let f;e[16]!==hs?(f=s.jsx("div",{className:"text-2xl font-bold text-green-600",children:hs}),e[16]=hs,e[17]=f):f=e[17];let be;e[18]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alunos com turma definida"}),e[18]=be):be=e[18];let j;e[19]!==f?(j=s.jsxs(ee,{children:[ge,s.jsxs(se,{children:[f,be]})]}),e[19]=f,e[20]=j):j=e[20];let _e;e[21]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Pendentes"}),s.jsx(Zs,{className:"h-4 w-4 text-orange-500"})]}),e[21]=_e):_e=e[21];const ps=te?.pending??0;let g;e[22]!==ps?(g=s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ps}),e[22]=ps,e[23]=g):g=e[23];let Ne;e[24]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando ação"}),e[24]=Ne):Ne=e[24];let b;e[25]!==g?(b=s.jsxs(ee,{children:[_e,s.jsxs(se,{children:[g,Ne]})]}),e[25]=g,e[26]=b):b=e[26];let ye;e[27]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Taxa de Conversão"}),s.jsx(Us,{className:"h-4 w-4 text-blue-500"})]}),e[27]=ye):ye=e[27];const us=te?.completion_rate??0;let _;e[28]!==us?(_=s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[us,"%"]}),e[28]=us,e[29]=_):_=e[29];const fs=`${te?.completion_rate??0}%`;let N;e[30]!==fs?(N=s.jsx("div",{className:"h-2 w-full bg-blue-100 rounded-full mt-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-500",style:{width:fs}})}),e[30]=fs,e[31]=N):N=e[31];let y;e[32]!==_||e[33]!==N?(y=s.jsxs(ee,{children:[ye,s.jsxs(se,{children:[_,N]})]}),e[32]=_,e[33]=N,e[34]=y):y=e[34];let v;e[35]!==u||e[36]!==j||e[37]!==b||e[38]!==y?(v=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u,j,b,y]}),e[35]=u,e[36]=j,e[37]=b,e[38]=y,e[39]=v):v=e[39];let ve;e[40]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx(Z,{children:"Gerar Novo Link"}),e[40]=ve):ve=e[40];let Se;e[41]===Symbol.for("react.memo_cache_sentinel")?(Se=()=>de(!0),e[41]=Se):Se=e[41];let we;e[42]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsxs(X,{className:"flex flex-row items-center justify-between",children:[ve,s.jsxs(o,{variant:"destructive",onClick:Se,className:"bg-orange-600 hover:bg-orange-700 text-white",children:[s.jsx(Is,{className:"mr-2 h-4 w-4"}),"Migrar Todos (Em Massa)"]})]}),e[42]=we):we=e[42];let Ce;e[43]===Symbol.for("react.memo_cache_sentinel")?(Ce=s.jsx(m,{htmlFor:"type",children:"Tipo de Matrícula"}),e[43]=Ce):Ce=e[43];let S;e[44]!==d?(S=r=>d("type",r),e[44]=d,e[45]=S):S=e[45];let ke;e[46]===Symbol.for("react.memo_cache_sentinel")?(ke=s.jsx(Ze,{children:s.jsx(es,{placeholder:"Selecione"})}),e[46]=ke):ke=e[46];let Te;e[47]===Symbol.for("react.memo_cache_sentinel")?(Te=s.jsxs(ss,{children:[s.jsx(ie,{value:"new",children:"Aluno Novo"}),s.jsx(ie,{value:"renewal",children:"Rematrícula (Aluno Existente)"})]}),e[47]=Te):Te=e[47];let w;e[48]!==n.type||e[49]!==S?(w=s.jsxs(Xe,{value:n.type,onValueChange:S,children:[ke,Te]}),e[48]=n.type,e[49]=S,e[50]=w):w=e[50];let C;e[51]!==c.type?(C=c.type&&s.jsx("p",{className:"text-sm text-red-500",children:c.type}),e[51]=c.type,e[52]=C):C=e[52];let k;e[53]!==w||e[54]!==C?(k=s.jsxs("div",{className:"space-y-2",children:[Ce,w,C]}),e[53]=w,e[54]=C,e[55]=k):k=e[55];let T;e[56]!==n.student_id||e[57]!==n.student_name||e[58]!==n.type||e[59]!==c.student_id||e[60]!==c.student_name||e[61]!==d||e[62]!==as?(T=n.type==="new"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"student_name",children:"Nome de Referência (Opcional)"}),s.jsx(As,{id:"student_name",value:n.student_name,onChange:r=>d("student_name",r.target.value),placeholder:"Ex: Família Silva"}),c.student_name&&s.jsx("p",{className:"text-sm text-red-500",children:c.student_name})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"student_id",children:"Selecione o Aluno"}),s.jsxs(Xe,{value:n.student_id,onValueChange:r=>d("student_id",r),children:[s.jsx(Ze,{children:s.jsx(es,{placeholder:"Busque o aluno..."})}),s.jsx(ss,{children:as.map(ct)})]}),c.student_id&&s.jsx("p",{className:"text-sm text-red-500",children:c.student_id})]}),e[56]=n.student_id,e[57]=n.student_name,e[58]=n.type,e[59]=c.student_id,e[60]=c.student_name,e[61]=d,e[62]=as,e[63]=T):T=e[63];let De;e[64]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(m,{htmlFor:"year",children:"Ano Letivo (Filtro)"}),e[64]=De):De=e[64];let Re;e[65]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx(Ze,{children:s.jsx(es,{placeholder:"Selecione o ano"})}),e[65]=Re):Re=e[65];let D;e[66]!==ls?(D=ls.map(it),e[66]=ls,e[67]=D):D=e[67];let R;e[68]!==D?(R=s.jsx(ss,{children:D}),e[68]=D,e[69]=R):R=e[69];let A;e[70]!==x||e[71]!==R?(A=s.jsxs("div",{className:"space-y-2",children:[De,s.jsxs(Xe,{value:x,onValueChange:Ls,children:[Re,R]})]}),e[70]=x,e[71]=R,e[72]=A):A=e[72];let Ae;e[73]===Symbol.for("react.memo_cache_sentinel")?(Ae=s.jsx(m,{htmlFor:"target_class_id",children:"Turma de Destino (Opcional)"}),e[73]=Ae):Ae=e[73];const $s=n.target_class_id;let E;e[74]!==d?(E=r=>d("target_class_id",r),e[74]=d,e[75]=E):E=e[75];let Ee;e[76]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(Ze,{children:s.jsx(es,{placeholder:"Selecione a turma"})}),e[76]=Ee):Ee=e[76];let P;e[77]!==os?(P=os.map(rt),e[77]=os,e[78]=P):P=e[78];let M;e[79]!==P?(M=s.jsx(ss,{children:P}),e[79]=P,e[80]=M):M=e[80];let F;e[81]!==n.target_class_id||e[82]!==E||e[83]!==M?(F=s.jsxs(Xe,{value:$s,onValueChange:E,children:[Ee,M]}),e[81]=n.target_class_id,e[82]=E,e[83]=M,e[84]=F):F=e[84];let I;e[85]!==c.target_class_id?(I=c.target_class_id&&s.jsx("p",{className:"text-sm text-red-500",children:c.target_class_id}),e[85]=c.target_class_id,e[86]=I):I=e[86];let L;e[87]!==F||e[88]!==I?(L=s.jsxs("div",{className:"space-y-2",children:[Ae,F,I]}),e[87]=F,e[88]=I,e[89]=L):L=e[89];let z;e[90]!==k||e[91]!==T||e[92]!==A||e[93]!==L?(z=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k,T,A,L]}),e[90]=k,e[91]=T,e[92]=A,e[93]=L,e[94]=z):z=e[94];let Pe;e[95]===Symbol.for("react.memo_cache_sentinel")?(Pe=s.jsx(st,{className:"mr-2 h-4 w-4"}),e[95]=Pe):Pe=e[95];let $;e[96]!==is?($=s.jsxs(o,{type:"submit",disabled:is,children:[Pe,"Gerar Link"]}),e[96]=is,e[97]=$):$=e[97];let B;e[98]!==ds||e[99]!==z||e[100]!==$?(B=s.jsxs(ee,{children:[we,s.jsx(se,{children:s.jsxs("form",{onSubmit:ds,className:"space-y-4",children:[z,$]})})]}),e[98]=ds,e[99]=z,e[100]=$,e[101]=B):B=e[101];let Me;e[102]===Symbol.for("react.memo_cache_sentinel")?(Me=s.jsx(X,{children:s.jsx(Z,{children:"Links Gerados"})}),e[102]=Me):Me=e[102];let Fe;e[103]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx(Js,{children:s.jsxs(Es,{children:[s.jsx(h,{children:"Referência / Aluno"}),s.jsx(h,{children:"Tipo"}),s.jsx(h,{children:"Turma Destino"}),s.jsx(h,{children:"Status"}),s.jsx(h,{children:"Criado Por"}),s.jsx(h,{children:"Data"}),s.jsx(h,{className:"text-right",children:"Ações"})]})}),e[103]=Fe):Fe=e[103];let O;if(e[104]!==ae||e[105]!==ts){let r;e[107]!==ae?(r=l=>s.jsxs(Es,{children:[s.jsx(p,{className:"font-medium",children:l.type==="renewal"&&l.student?l.student.name:l.student_name||"Sem referência"}),s.jsx(p,{children:s.jsx(Ps,{variant:l.type==="new"?"default":"secondary",children:l.type==="new"?"Novo":"Rematrícula"})}),s.jsx(p,{children:l.target_class?l.target_class.name:"-"}),s.jsx(p,{children:s.jsx(Ps,{variant:l.status==="completed"?"outline":"destructive",className:l.status==="completed"?"text-green-600 border-green-600":"",children:l.status==="pending"?"Pendente":"Concluído"})}),s.jsx(p,{children:l.creator.name}),s.jsx(p,{children:Ds(l.created_at)}),s.jsx(p,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>ks(l),children:[s.jsx(tt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Visualizar"})]}),s.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>Ts(l.token,l.id),children:[ae===l.id?s.jsx(Fs,{className:"h-4 w-4 text-green-500"}):s.jsx(Ms,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Copiar Link"})]}),l.status==="completed"&&l.target_class&&s.jsx(o,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",title:"Migrar aluno para esta turma",onClick:()=>{confirm(`Deseja mover o aluno para a turma ${l.target_class?.name}?`)&&bs.post(We.preRegistrations.index.url()+`/${l.id}/migrate`)},children:s.jsx(Is,{className:"h-4 w-4"})}),s.jsxs(o,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>oe(l),children:[s.jsx(at,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Excluir"})]})]})})]},l.id),e[107]=ae,e[108]=r):r=e[108],O=ts.map(r),e[104]=ae,e[105]=ts,e[106]=O}else O=e[106];let V;e[109]!==O?(V=s.jsxs(ee,{children:[Me,s.jsx(se,{children:s.jsxs(Ks,{children:[Fe,s.jsx(Ws,{children:O})]})})]}),e[109]=O,e[110]=V):V=e[110];let H;e[111]!==v||e[112]!==B||e[113]!==V?(H=s.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[v,B,V]}),e[111]=v,e[112]=B,e[113]=V,e[114]=H):H=e[114];const js=!!t;let Ie;e[115]===Symbol.for("react.memo_cache_sentinel")?(Ie=()=>ks(null),e[115]=Ie):Ie=e[115];let Le,ze;e[116]===Symbol.for("react.memo_cache_sentinel")?(Le=s.jsx(_s,{children:"Ficha Cadastral do Aluno"}),ze=s.jsx(Ns,{className:"sr-only",children:"Detalhamento completo dos dados da pré-matrícula"}),e[116]=Le,e[117]=ze):(Le=e[116],ze=e[117]);let $e;e[118]===Symbol.for("react.memo_cache_sentinel")?($e=s.jsxs(ys,{className:"print:hidden flex flex-row items-center justify-between",children:[Le,ze,s.jsxs(o,{variant:"outline",size:"sm",onClick:zs,className:"ml-auto",children:[s.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Imprimir"]})]}),e[118]=$e):$e=e[118];let G;e[119]!==t?(G=t&&s.jsxs("div",{className:"space-y-6 print:hidden",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx(m,{className:"text-xs text-gray-500 uppercase",children:"Tipo"}),s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.type==="new"?"Novo Aluno":"Rematrícula"})]}),s.jsxs("div",{children:[s.jsx(m,{className:"text-xs text-gray-500 uppercase",children:"Status"}),s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.status==="completed"?"Concluído":"Pendente"})]}),s.jsxs("div",{children:[s.jsx(m,{className:"text-xs text-gray-500 uppercase",children:"Turma Destino"}),s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.target_class?t.target_class.name:"Não definida"})]}),s.jsxs("div",{children:[s.jsx(m,{className:"text-xs text-gray-500 uppercase",children:"Criado Por"}),s.jsx("div",{className:"border-t border-black pt-2",children:s.jsx("p",{className:"font-bold text-sm",children:"Secretaria / Coordenação"})})]})]}),t.student?s.jsx(Rs,{student:t.student}):s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 dark:bg-gray-800 rounded-lg border border-dashed dark:border-gray-700",children:[s.jsx("p",{className:"text-lg font-medium",children:"Nenhum dado de aluno vinculado ainda."}),s.jsx("p",{className:"text-sm",children:"O aluno será criado/vinculado quando o formulário for preenchido pelo responsável."})]}),t.status==="pending"&&s.jsxs("div",{className:"pt-6 border-t bg-gray-50 dark:bg-gray-800 p-4 -mx-6 -mb-6 mt-6",children:[s.jsx(m,{className:"text-xs text-gray-500 dark:text-gray-400",children:"Link de Acesso para o Responsável"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(As,{readOnly:!0,value:`${window.location.origin}/pre-matricula/${t.token}`,className:"bg-white dark:bg-gray-900"}),s.jsx(o,{size:"icon",variant:"outline",onClick:()=>Ts(t.token,t.id),children:s.jsx(Ms,{className:"h-4 w-4"})})]})]})]}),e[119]=t,e[120]=G):G=e[120];let Be;e[121]===Symbol.for("react.memo_cache_sentinel")?(Be=s.jsx(vs,{className:"sm:justify-between print:hidden"}),e[121]=Be):Be=e[121];let q;e[122]!==G?(q=s.jsxs(Ss,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:hidden dark:bg-gray-900 dark:text-gray-100",children:[$e,G,Be]}),e[122]=G,e[123]=q):q=e[123];let U;e[124]!==js||e[125]!==q?(U=s.jsx(ws,{open:js,onOpenChange:Ie,children:q}),e[124]=js,e[125]=q,e[126]=U):U=e[126];const gs=!!le;let Oe;e[127]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>oe(null),e[127]=Oe):Oe=e[127];let Ve;e[128]===Symbol.for("react.memo_cache_sentinel")?(Ve=s.jsxs(ys,{children:[s.jsx(_s,{children:"Excluir Pré-Matrícula"}),s.jsx(Ns,{children:"Tem certeza que deseja excluir esta pré-matrícula? Esta ação não pode ser desfeita."})]}),e[128]=Ve):Ve=e[128];let He;e[129]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx(o,{variant:"outline",onClick:()=>oe(null),children:"Cancelar"}),e[129]=He):He=e[129];let Y;e[130]!==ms?(Y=s.jsxs(Ss,{children:[Ve,s.jsxs(vs,{children:[He,s.jsx(o,{variant:"destructive",onClick:ms,children:"Excluir"})]})]}),e[130]=ms,e[131]=Y):Y=e[131];let Q;e[132]!==gs||e[133]!==Y?(Q=s.jsx(ws,{open:gs,onOpenChange:Oe,children:Y}),e[132]=gs,e[133]=Y,e[134]=Q):Q=e[134];let Ge;e[135]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx(_s,{children:"Migração em Massa"}),e[135]=Ge):Ge=e[135];let qe;e[136]===Symbol.for("react.memo_cache_sentinel")?(qe=s.jsx("p",{className:"font-bold text-red-600",children:"Atenção: Esta é uma ação crítica."}),e[136]=qe):qe=e[136];let Ue;e[137]===Symbol.for("react.memo_cache_sentinel")?(Ue=s.jsxs("p",{children:["Você está prestes a processar a migração de turma de ",s.jsx("strong",{children:"TODAS"}),' as pré-matrículas com status "Concluído" e que possuem uma Turma de Destino definida.']}),e[137]=Ue):Ue=e[137];let Ye;e[138]===Symbol.for("react.memo_cache_sentinel")?(Ye=s.jsxs(ys,{children:[Ge,s.jsx(Ns,{children:s.jsxs("div",{className:"space-y-3",children:[qe,Ue,s.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[s.jsx("li",{children:"Os alunos serão movidos imediatamente para suas novas turmas."}),s.jsx("li",{children:"Alunos sem pré-matrícula concluída não serão afetados."}),s.jsx("li",{children:"Recomendamos fazer isso apenas no início do ano letivo."})]}),s.jsx("p",{className:"font-medium",children:"Deseja continuar?"})]})})]}),e[138]=Ye):Ye=e[138];let Qe;e[139]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsx(o,{variant:"outline",onClick:()=>de(!1),children:"Cancelar"}),e[139]=Qe):Qe=e[139];let Je;e[140]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsxs(Ss,{children:[Ye,s.jsxs(vs,{children:[Qe,s.jsx(o,{className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>{bs.post(We.preRegistrations.index.url()+"/batch-migrate",{},{onSuccess:()=>de(!1)})},children:"Confirmar Migração Geral"})]})]}),e[140]=Je):Je=e[140];let J;e[141]!==ns?(J=s.jsx(ws,{open:ns,onOpenChange:de,children:Je}),e[141]=ns,e[142]=J):J=e[142];let K;e[143]!==H||e[144]!==U||e[145]!==Q||e[146]!==J?(K=s.jsxs("div",{className:"py-12 print:hidden",children:[H,U,Q,J]}),e[143]=H,e[144]=U,e[145]=Q,e[146]=J,e[147]=K):K=e[147];let W;e[148]!==a?.app_name||e[149]!==a?.school_address||e[150]!==a?.school_cep||e[151]!==a?.school_city||e[152]!==a?.school_name||e[153]!==a?.school_phone||e[154]!==a?.school_state||e[155]!==t?(W=t&&s.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:z-[9999] print:h-screen print:w-screen print:overflow-visible",children:s.jsxs("div",{className:"print:p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b-2 border-black pb-4",children:[s.jsx("div",{className:"w-24 h-24 flex items-center justify-center shrink-0",children:s.jsx(qs,{className:"w-full h-full text-black"})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold uppercase",children:a?.school_name||a?.app_name||"Centro Educacional Rosa de Sharon"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Educação Infantil e Ensino Fundamental"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a?.school_address||"Endereço não configurado",(a?.school_city||a?.school_state)&&` - ${a?.school_city||""}/${a?.school_state||""}`,a?.school_cep&&` - CEP: ${a?.school_cep}`,a?.school_phone&&` - Tel: ${a?.school_phone}`]})]}),s.jsx("div",{className:"w-24 shrink-0 text-right",children:s.jsxs("div",{className:"border border-black p-2 text-center",children:[s.jsx("p",{className:"text-[10px] uppercase font-bold",children:"Ficha Nº"}),s.jsx("p",{className:"text-lg font-bold",children:t.id.toString().padStart(4,"0")})]})})]}),s.jsx("div",{className:"text-center mb-4",children:s.jsx("h2",{className:"text-xl font-bold uppercase bg-gray-200 py-1 print:bg-gray-200 print:text-black",children:"Ficha Cadastral do Aluno"})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text-xs border border-gray-300 p-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold block uppercase",children:"Tipo de Matrícula:"}),s.jsx("span",{children:t.type==="new"?"Novo Aluno":"Rematrícula"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold block uppercase",children:"Turma Indicada:"}),s.jsx("span",{children:t.target_class?t.target_class.name:"A definir"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold block uppercase",children:"Status:"}),s.jsx("span",{children:t.status==="completed"?"Concluído":"Pendente"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold block uppercase",children:"Data Registro:"}),s.jsx("span",{children:Ds(t.created_at)})]})]}),t.student?s.jsx(Rs,{student:t.student}):s.jsx("div",{className:"text-center py-12 text-gray-500 border border-dashed",children:s.jsx("p",{children:"Nenhum dado de aluno vinculado."})}),s.jsxs("div",{className:"mt-6 print:break-inside-avoid",children:[s.jsx("h3",{className:"text-sm font-bold uppercase border-b border-black mb-2",children:"Conferência de Documentos (Uso da Secretaria)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Certidão de Nascimento"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Histórico Escolar / Transferência"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," 2 Fotos 3x4"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Cartão de Vacina Atualizado"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Comprovante de Residência"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," RG e CPF do Responsável"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Cartão do SUS"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Tipo Sanguíneo (Laudo)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border border-black"})," Declaração de Quitação"]})]})]}),s.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-16 print:break-inside-avoid",children:[s.jsx("div",{className:"text-center pt-8 border-t border-black",children:s.jsx("p",{className:"text-xs uppercase font-bold",children:"Assinatura do Responsável"})}),s.jsx("div",{className:"text-center pt-8 border-t border-black",children:s.jsx("p",{className:"text-xs uppercase font-bold",children:"Secretaria / Direção"})})]}),s.jsxs("div",{className:"flex justify-between mt-4 text-[10px] text-gray-400",children:[s.jsx("span",{children:"Sistema de Gestão Escolar - Rosa de Sharon"}),s.jsxs("span",{children:["Impresso em: ",new Date().toLocaleString("pt-BR")]})]})]})}),e[148]=a?.app_name,e[149]=a?.school_address,e[150]=a?.school_cep,e[151]=a?.school_city,e[152]=a?.school_name,e[153]=a?.school_phone,e[154]=a?.school_state,e[155]=t,e[156]=W):W=e[156];let Ke;return e[157]!==K||e[158]!==W?(Ke=s.jsxs(Qs,{breadcrumbs:ue,children:[fe,K,W]}),e[157]=K,e[158]=W,e[159]=Ke):Ke=e[159],Ke}function rt(i){return s.jsx(ie,{value:String(i.id),children:i.name},i.id)}function it(i){return s.jsx(ie,{value:String(i.id),children:i.year},i.id)}function ct(i){return s.jsxs(ie,{value:String(i.id),children:[i.name," (",i.cpf,")"]},i.id)}function nt(){window.print()}function ot(i){return i?new Date(i).toLocaleDateString():"-"}export{Qt as default};
