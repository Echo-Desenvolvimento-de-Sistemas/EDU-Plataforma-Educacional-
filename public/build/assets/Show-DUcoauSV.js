import{c as ie,r as Y,j as t,H as oe,b as Z,L as de}from"./app-BlZNpJaz.js";import{A as ce}from"./app-layout-vfDevXcM.js";import{Q as ne}from"./QuickQuestionModal-BDcd2y-X.js";import{S as me}from"./square-pen-DkkVFjNN.js";import{T as xe}from"./trash-2-C65_v2RJ.js";import{A as fe}from"./arrow-left-C_Tsc45O.js";import{P as ge}from"./plus-CcX2yXqX.js";import{S as pe}from"./search-BKAEKSF4.js";/* empty css            */import"./index-BSNktiLJ.js";import"./button-BFaAQ1F0.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";import"./dialog-CCWmf-Wy.js";import"./loader-circle-DIuL06p2.js";function Je(i){const e=ie.c(71),{bank:a,questions:G}=i,[J,k]=Y.useState(!1),[K,N]=Y.useState(null);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w={title:"Bancos de Questões",href:"/professor/question-banks"},e[0]=w):w=e[0];let _;e[1]!==a.title?(_=[w,{title:a.title,href:"#"}],e[1]=a.title,e[2]=_):_=e[2];const W=_,q=ye;let S;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=s=>{N(s),k(!0)},e[3]=S):S=e[3];const ee=S;let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{k(!1),N(null),Z.reload()},e[4]=C):C=e[4];const te=C;let L;e[5]===Symbol.for("react.memo_cache_sentinel")?(L={search:"",difficulty:"",type:""},e[5]=L):L=e[5];const[r,X]=Y.useState(L);let E;if(e[6]!==r.difficulty||e[7]!==r.search||e[8]!==r.type||e[9]!==G){let s;e[11]!==r.difficulty||e[12]!==r.search||e[13]!==r.type?(s=l=>{const se=r.search===""||l.statement.toLowerCase().includes(r.search.toLowerCase())||l.subject?.toLowerCase().includes(r.search.toLowerCase())||l.topic?.toLowerCase().includes(r.search.toLowerCase())||l.bncc_code?.toLowerCase().includes(r.search.toLowerCase()),ae=r.difficulty===""||l.difficulty.toString()===r.difficulty,le=r.type===""||l.type===r.type;return se&&ae&&le},e[11]=r.difficulty,e[12]=r.search,e[13]=r.type,e[14]=s):s=e[14],E=G.filter(s),e[6]=r.difficulty,e[7]=r.search,e[8]=r.type,e[9]=G,e[10]=E}else E=e[10];const o=E,re=ue;let d;e[15]!==a.title?(d=t.jsx(oe,{title:a.title}),e[15]=a.title,e[16]=d):d=e[16];let T;e[17]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{k(!1),N(null)},e[17]=T):T=e[17];let c;e[18]!==a.id||e[19]!==K||e[20]!==J?(c=t.jsx(ne,{isOpen:J,onClose:T,bankId:a.id,onQuestionCreated:te,questionToEdit:K}),e[18]=a.id,e[19]=K,e[20]=J,e[21]=c):c=e[21];let Q;e[22]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsxs(de,{href:"/professor/question-banks",className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 mb-4",children:[t.jsx(fe,{className:"w-4 h-4"})," Voltar"]}),e[22]=Q):Q=e[22];let n;e[23]!==a.title?(n=t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.title}),e[23]=a.title,e[24]=n):n=e[24];let m;e[25]!==a.description?(m=t.jsx("p",{className:"mt-1 text-gray-500",children:a.description}),e[25]=a.description,e[26]=m):m=e[26];let x;e[27]!==n||e[28]!==m?(x=t.jsxs("div",{children:[n,m]}),e[27]=n,e[28]=m,e[29]=x):x=e[29];let M;e[30]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{N(null),k(!0)},e[30]=M):M=e[30];let D;e[31]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[t.jsx(ge,{className:"w-5 h-5"}),"Adicionar Questão"]}),e[31]=D):D=e[31];let f;e[32]!==x?(f=t.jsxs("div",{className:"mb-8",children:[Q,t.jsxs("div",{className:"flex justify-between items-start",children:[x,D]})]}),e[32]=x,e[33]=f):f=e[33];let A;e[34]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(pe,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e[34]=A):A=e[34];let F;e[35]===Symbol.for("react.memo_cache_sentinel")?(F=s=>X(l=>({...l,search:s.target.value})),e[35]=F):F=e[35];let g;e[36]!==r.search?(g=t.jsxs("div",{className:"flex-1 relative",children:[A,t.jsx("input",{type:"text",placeholder:"Buscar por enunciado, código ou tópico...",value:r.search,onChange:F,className:"pl-9 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm p-2 text-gray-900 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-white"})]}),e[36]=r.search,e[37]=g):g=e[37];let I;e[38]===Symbol.for("react.memo_cache_sentinel")?(I=s=>X(l=>({...l,difficulty:s.target.value})),e[38]=I):I=e[38];let O,P,H,$;e[39]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("option",{value:"",children:"Todas Dificuldades"}),P=t.jsx("option",{value:"1",children:"Fácil"}),H=t.jsx("option",{value:"2",children:"Médio"}),$=t.jsx("option",{value:"3",children:"Difícil"}),e[39]=O,e[40]=P,e[41]=H,e[42]=$):(O=e[39],P=e[40],H=e[41],$=e[42]);let p;e[43]!==r.difficulty?(p=t.jsx("div",{className:"w-full md:w-48",children:t.jsxs("select",{value:r.difficulty,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm p-2 text-gray-900 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[O,P,H,$]})}),e[43]=r.difficulty,e[44]=p):p=e[44];let B;e[45]===Symbol.for("react.memo_cache_sentinel")?(B=s=>X(l=>({...l,type:s.target.value})),e[45]=B):B=e[45];let R,U,V;e[46]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("option",{value:"",children:"Todos Tipos"}),U=t.jsx("option",{value:"MULTIPLE_CHOICE",children:"Múltipla Escolha"}),V=t.jsx("option",{value:"TRUE_FALSE",children:"V/F"}),e[46]=R,e[47]=U,e[48]=V):(R=e[46],U=e[47],V=e[48]);let h;e[49]!==r.type?(h=t.jsx("div",{className:"w-full md:w-48",children:t.jsxs("select",{value:r.type,onChange:B,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm p-2 text-gray-900 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[R,U,V]})}),e[49]=r.type,e[50]=h):h=e[50];let u;e[51]!==g||e[52]!==p||e[53]!==h?(u=t.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg shadow-sm border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g,p,h]})}),e[51]=g,e[52]=p,e[53]=h,e[54]=u):u=e[54];let y;e[55]!==o.length?(y=t.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center dark:bg-gray-800 dark:border-gray-700",children:t.jsxs("h3",{className:"font-semibold text-gray-700 dark:text-gray-200",children:["Questões (",o.length,")"]})}),e[55]=o.length,e[56]=y):y=e[56];let b;e[57]!==o?(b=o.length>0?t.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map((s,l)=>t.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors group dark:hover:bg-gray-750",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-medium text-sm dark:bg-gray-700 dark:text-gray-300",children:l+1})}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 bg-gray-100 px-2 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300",children:s.type==="MULTIPLE_CHOICE"?"Múltipla Escolha":"V/F"}),re(s.difficulty),s.subject&&t.jsx("span",{className:"text-xs text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",children:s.subject}),s.grade_level&&t.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-0.5 rounded border border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",children:s.grade_level}),s.bncc_code&&t.jsx("span",{className:"text-xs text-teal-600 bg-teal-50 px-2 py-0.5 rounded border border-teal-100 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",title:"BNCC",children:s.bncc_code})]}),t.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>ee(s),className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors",title:"Editar",children:t.jsx(me,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>q(s.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Excluir",children:t.jsx(xe,{className:"w-4 h-4"})})]})]}),t.jsx("h4",{className:"text-gray-900 font-medium mb-3 dark:text-white text-base",children:s.statement}),t.jsx("div",{className:"space-y-1",children:s.options.map(he)}),s.topic&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 text-xs text-gray-400 flex gap-4",children:t.jsxs("span",{children:["Tópico: ",s.topic]})})]})]})},s.id))}):t.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma questão encontrada com os filtros selecionados."}),e[57]=o,e[58]=b):b=e[58];let j;e[59]!==y||e[60]!==b?(j=t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden dark:bg-gray-800 dark:border-gray-700",children:[y,b]}),e[59]=y,e[60]=b,e[61]=j):j=e[61];let v;e[62]!==f||e[63]!==u||e[64]!==j?(v=t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f,u,j]})}),e[62]=f,e[63]=u,e[64]=j,e[65]=v):v=e[65];let z;return e[66]!==W||e[67]!==v||e[68]!==d||e[69]!==c?(z=t.jsxs(ce,{breadcrumbs:W,children:[d,c,v]}),e[66]=W,e[67]=v,e[68]=d,e[69]=c,e[70]=z):z=e[70],z}function he(i){return t.jsxs("div",{className:`flex items-center gap-2 text-sm ${i.is_correct?"text-green-700 font-medium dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:[t.jsx("div",{className:`w-3 h-3 rounded-full border flex-shrink-0 ${i.is_correct?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600"}`}),t.jsx("span",{children:i.label}),i.is_correct&&t.jsx("span",{className:"text-xs text-green-600 ml-1 dark:text-green-500",children:"(Correta)"})]},i.id)}function ue(i){switch(i){case 1:return t.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Fácil"});case 2:return t.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Médio"});case 3:return t.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded",children:"Difícil"});case 4:return t.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded",children:"Muito Difícil"});case 5:return t.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded",children:"Expert"});default:return null}}function ye(i){confirm("Tem certeza que deseja excluir esta questão?")&&Z.delete(`/professor/questions/${i}`)}export{Je as default};
