import{c as H,r as I,b as L,j as t,H as F,L as i}from"./app-BlZNpJaz.js";import{A as G}from"./app-layout-vfDevXcM.js";import{I as V}from"./input-ClKI_C3W.js";import{a as q,b as z,c as J,d as p,S as K}from"./select-wa9XAM0x.js";import{C as M,a as O,b as Q,c as W}from"./card-DE5xUgg4.js";import{B as A}from"./badge-hQq2_SSh.js";import{u as X}from"./use-debounce-xlyvVL26.js";import{P as Y}from"./plus-CcX2yXqX.js";import{S as Z}from"./search-BKAEKSF4.js";import{P as T}from"./power-CbH9aRCg.js";import{S as B}from"./square-pen-DkkVFjNN.js";import{T as R}from"./trash-2-C65_v2RJ.js";/* empty css            */import"./index-BSNktiLJ.js";import"./button-BFaAQ1F0.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./users-CYmdu12r.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";import"./check-C5YBzlMP.js";const ee=[{title:"Dashboard Admin",href:"/admin/dashboard"},{title:"Gerenciar Usuários",href:"/admin/users"}];function Re($){const e=H.c(33),{users:l,filters:P}=$,[h,U]=I.useState(P.search||""),[s,D]=I.useState(P.role||"all"),u=X(h,300);let g,b;e[0]!==u||e[1]!==s?(g=()=>{L.get("/admin/users",{search:u,role:s==="all"?void 0:s},{preserveState:!0,replace:!0})},b=[u,s],e[0]=u,e[1]=s,e[2]=g,e[3]=b):(g=e[2],b=e[3]),I.useEffect(g,b);const E=te;let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(F,{title:"Gerenciar Usuários"}),e[4]=v):v=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Usuários"}),e[5]=y):y=e[5];let j;e[6]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[y,t.jsxs(i,{href:"/admin/users/create",className:"flex items-center justify-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",children:[t.jsx(Y,{className:"h-4 w-4"}),"Novo Usuário"]})]}),e[6]=j):j=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500 dark:text-gray-400"}),e[7]=N):N=e[7];let k;e[8]===Symbol.for("react.memo_cache_sentinel")?(k=a=>U(a.target.value),e[8]=k):k=e[8];let o;e[9]!==h?(o=t.jsxs("div",{className:"relative flex-1",children:[N,t.jsx(V,{type:"search",placeholder:"Buscar por nome ou email...",className:"pl-9",value:h,onChange:k})]}),e[9]=h,e[10]=o):o=e[10];let w;e[11]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(q,{children:t.jsx(z,{placeholder:"Filtrar por função"})}),e[11]=w):w=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs(J,{children:[t.jsx(p,{value:"all",children:"Todas as funções"}),t.jsx(p,{value:"admin",children:"Admin"}),t.jsx(p,{value:"secretaria",children:"Secretaria"}),t.jsx(p,{value:"professor",children:"Professor"}),t.jsx(p,{value:"aluno",children:"Aluno"})]}),e[12]=S):S=e[12];let n;e[13]!==s?(n=t.jsx("div",{className:"w-full sm:w-[200px]",children:t.jsxs(K,{value:s,onValueChange:D,children:[w,S]})}),e[13]=s,e[14]=n):n=e[14];let c;e[15]!==n||e[16]!==o?(c=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[o,n]}),e[15]=n,e[16]=o,e[17]=c):c=e[17];let d;if(e[18]!==l.data){let a;e[20]===Symbol.for("react.memo_cache_sentinel")?(a=r=>t.jsxs(M,{className:r.active?"":"opacity-60",children:[t.jsxs(O,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Q,{className:"text-sm font-medium",children:r.name}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(A,{variant:"outline",className:E(r.role),children:r.role}),t.jsx(A,{variant:r.active?"secondary":"destructive",children:r.active?"Ativo":"Inativo"})]})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:r.email}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(i,{href:`/admin/users/${r.id}/toggle-status`,method:"patch",as:"button",preserveScroll:!0,className:`inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 w-9 ${r.active?"text-green-600":"text-gray-400"}`,children:t.jsx(T,{className:"h-4 w-4"})}),t.jsx(i,{href:`/admin/users/${r.id}/edit`,className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 w-9",children:t.jsx(B,{className:"h-4 w-4"})}),t.jsx(i,{href:`/admin/users/${r.id}`,method:"delete",as:"button",className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-red-100 hover:text-red-600 h-9 w-9",children:t.jsx(R,{className:"h-4 w-4"})})]})]})]},r.id),e[20]=a):a=e[20],d=l.data.map(a),e[18]=l.data,e[19]=d}else d=e[19];let m;e[21]!==d?(m=t.jsx("div",{className:"grid gap-4 sm:hidden overflow-y-auto",children:d}),e[21]=d,e[22]=m):m=e[22];let _;e[23]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Nome"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Email"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Função"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Status"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Ações"})]})}),e[23]=_):_=e[23];let x;if(e[24]!==l.data){let a;e[26]===Symbol.for("react.memo_cache_sentinel")?(a=r=>t.jsxs("tr",{className:r.active?"":"bg-gray-50 dark:bg-gray-800/50",children:[t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900 dark:text-gray-100",children:r.name}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:r.email}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:t.jsx(A,{variant:"outline",className:E(r.role),children:r.role})}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:t.jsx(A,{variant:r.active?"secondary":"destructive",children:r.active?"Ativo":"Inativo"})}),t.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(i,{href:`/admin/users/${r.id}/toggle-status`,method:"patch",as:"button",preserveScroll:!0,title:r.active?"Desativar":"Ativar",className:`transition-colors ${r.active?"text-green-600 hover:text-green-900":"text-gray-400 hover:text-gray-600"}`,children:t.jsx(T,{className:"h-4 w-4"})}),t.jsx(i,{href:`/admin/users/${r.id}/edit`,className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:t.jsx(B,{className:"h-4 w-4"})}),t.jsx(i,{href:`/admin/users/${r.id}`,method:"delete",as:"button",className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:t.jsx(R,{className:"h-4 w-4"})})]})})]},r.id),e[26]=a):a=e[26],x=l.data.map(a),e[24]=l.data,e[25]=x}else x=e[25];let f;e[27]!==x?(f=t.jsx("div",{className:"hidden sm:block flex-1 overflow-auto rounded-md border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[_,t.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900",children:x})]})}),e[27]=x,e[28]=f):f=e[28];let C;return e[29]!==c||e[30]!==m||e[31]!==f?(C=t.jsxs(G,{breadcrumbs:ee,children:[v,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-hidden rounded-xl p-4",children:[j,c,m,f]})]}),e[29]=c,e[30]=m,e[31]=f,e[32]=C):C=e[32],C}function te($){switch($){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"secretaria":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"professor":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"aluno":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}export{Re as default};
