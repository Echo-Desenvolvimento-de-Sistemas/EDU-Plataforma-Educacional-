import{c as me,u as de,j as l}from"./app-BlZNpJaz.js";import{b as he,c as fe,d as pe,D as xe,e as ue,f as ge}from"./dialog-CCWmf-Wy.js";import{B as te}from"./button-BFaAQ1F0.js";import{I as ee}from"./input-ClKI_C3W.js";import{L as w}from"./label-D4nWcODD.js";import{c as ae,S as se,d as oe,a as ie,b as ne}from"./select-wa9XAM0x.js";import{T as be}from"./textarea-BfFOsk1d.js";import{L as je}from"./loader-circle-DIuL06p2.js";import{S as _e}from"./send-CD005u8Q.js";/* empty css            */import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./index-BSNktiLJ.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./utils-CTsRgsKi.js";import"./index-20W_Bwtk.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-DPYlP-Xg.js";import"./chevron-down-BzXkxksi.js";import"./check-C5YBzlMP.js";function Ke(n){const e=me.c(86),{isOpen:z,onClose:o,channels:J,submitUrl:le}=n,Q=le===void 0?"/admin/agenda/message":le;let A;e[0]===Symbol.for("react.memo_cache_sentinel")?(A=[],e[0]=A):A=e[0];let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L={channel_id:"",title:"",body:"",type:"NOTICE",banner_image:null,attachments:A},e[1]=L):L=e[1];const{data:s,setData:t,post:X,processing:r,reset:Y,errors:i}=de(L);let R;e[2]!==o||e[3]!==X||e[4]!==Y||e[5]!==Q?(R=a=>{a.preventDefault(),X(Q,{forceFormData:!0,onSuccess:()=>{Y(),o()}})},e[2]=o,e[3]=X,e[4]=Y,e[5]=Q,e[6]=R):R=e[6];const Z=R;let M;e[7]===Symbol.for("react.memo_cache_sentinel")?(M=[{value:"NOTICE",label:"Aviso",color:"bg-amber-500"},{value:"EVENT",label:"Evento",color:"bg-blue-500"},{value:"FINANCIAL",label:"Financeiro",color:"bg-green-500"},{value:"URGENT",label:"Urgente",color:"bg-red-500"},{value:"HOMEWORK",label:"Atividade de Casa",color:"bg-violet-500"}],e[7]=M):M=e[7];const re=M;let U;e[8]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsxs(he,{children:[l.jsx(fe,{children:"Nova Mensagem"}),l.jsx(pe,{children:"Envie avisos, eventos ou comunicados para um canal específico."})]}),e[8]=U):U=e[8];let V;e[9]===Symbol.for("react.memo_cache_sentinel")?(V=l.jsx(w,{htmlFor:"channel",children:"Para:"}),e[9]=V):V=e[9];const ce=s.channel_id;let c;e[10]!==t?(c=a=>t("channel_id",a),e[10]=t,e[11]=c):c=e[11];let B;e[12]===Symbol.for("react.memo_cache_sentinel")?(B=l.jsx(ie,{id:"channel",children:l.jsx(ne,{placeholder:"Selecione um canal..."})}),e[12]=B):B=e[12];let m;e[13]!==J?(m=J.map(ye),e[13]=J,e[14]=m):m=e[14];let d;e[15]!==m?(d=l.jsx(ae,{children:m}),e[15]=m,e[16]=d):d=e[16];let h;e[17]!==s.channel_id||e[18]!==d||e[19]!==c?(h=l.jsxs(se,{value:ce,onValueChange:c,children:[B,d]}),e[17]=s.channel_id,e[18]=d,e[19]=c,e[20]=h):h=e[20];let f;e[21]!==i.channel_id?(f=i.channel_id&&l.jsx("p",{className:"text-sm text-destructive",children:i.channel_id}),e[21]=i.channel_id,e[22]=f):f=e[22];let p;e[23]!==h||e[24]!==f?(p=l.jsxs("div",{className:"space-y-2",children:[V,h,f]}),e[23]=h,e[24]=f,e[25]=p):p=e[25];let H;e[26]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(w,{htmlFor:"type",children:"Tipo:"}),e[26]=H):H=e[26];let x;e[27]!==t?(x=a=>t("type",a),e[27]=t,e[28]=x):x=e[28];let P;e[29]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(ie,{id:"type",children:l.jsx(ne,{placeholder:"Selecione o tipo"})}),e[29]=P):P=e[29];let $;e[30]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(ae,{children:re.map(ve)}),e[30]=$):$=e[30];let u;e[31]!==s.type||e[32]!==x?(u=l.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.jsxs("div",{className:"space-y-2",children:[H,l.jsxs(se,{value:s.type,onValueChange:x,children:[P,$]})]})}),e[31]=s.type,e[32]=x,e[33]=u):u=e[33];let k;e[34]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx(w,{htmlFor:"title",children:"Título (Opcional):"}),e[34]=k):k=e[34];let g;e[35]!==t?(g=a=>t("title",a.target.value),e[35]=t,e[36]=g):g=e[36];let b;e[37]!==s.title||e[38]!==g?(b=l.jsxs("div",{className:"space-y-2",children:[k,l.jsx(ee,{id:"title",placeholder:"Ex: Reunião de Pais",value:s.title,onChange:g})]}),e[37]=s.title,e[38]=g,e[39]=b):b=e[39];let q;e[40]===Symbol.for("react.memo_cache_sentinel")?(q=l.jsx(w,{htmlFor:"banner_image",children:"Imagem de Capa (Opcional):"}),e[40]=q):q=e[40];let j;e[41]!==t?(j=l.jsx(ee,{id:"banner_image",type:"file",accept:"image/*",onChange:a=>t("banner_image",a.target.files?a.target.files[0]:null)}),e[41]=t,e[42]=j):j=e[42];let _;e[43]!==i.banner_image?(_=i.banner_image&&l.jsx("p",{className:"text-sm text-destructive",children:i.banner_image}),e[43]=i.banner_image,e[44]=_):_=e[44];let v;e[45]!==j||e[46]!==_?(v=l.jsxs("div",{className:"space-y-2",children:[q,j,_]}),e[45]=j,e[46]=_,e[47]=v):v=e[47];let G;e[48]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(w,{htmlFor:"attachments",children:"Anexos (Opcional):"}),e[48]=G):G=e[48];let y;e[49]!==t?(y=l.jsxs("div",{className:"space-y-2",children:[G,l.jsx(ee,{id:"attachments",type:"file",multiple:!0,onChange:a=>{a.target.files&&t("attachments",Array.from(a.target.files))}})]}),e[49]=t,e[50]=y):y=e[50];let K;e[51]===Symbol.for("react.memo_cache_sentinel")?(K=l.jsx(w,{htmlFor:"message",children:"Mensagem:"}),e[51]=K):K=e[51];let S;e[52]!==t?(S=a=>t("body",a.target.value),e[52]=t,e[53]=S):S=e[53];let N;e[54]!==s.body||e[55]!==S?(N=l.jsx(be,{id:"message",placeholder:"Digite sua mensagem aqui...",className:"min-h-[150px]",value:s.body,onChange:S}),e[54]=s.body,e[55]=S,e[56]=N):N=e[56];let C;e[57]!==i.body?(C=i.body&&l.jsx("p",{className:"text-sm text-destructive",children:i.body}),e[57]=i.body,e[58]=C):C=e[58];let E;e[59]!==N||e[60]!==C?(E=l.jsxs("div",{className:"space-y-2",children:[K,N,C]}),e[59]=N,e[60]=C,e[61]=E):E=e[61];let F;e[62]!==o||e[63]!==r?(F=l.jsx(te,{type:"button",variant:"outline",onClick:o,disabled:r,children:"Cancelar"}),e[62]=o,e[63]=r,e[64]=F):F=e[64];let D;e[65]!==r?(D=r?l.jsxs(l.Fragment,{children:[l.jsx(je,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_e,{className:"mr-2 h-4 w-4"}),"Enviar"]}),e[65]=r,e[66]=D):D=e[66];let T;e[67]!==r||e[68]!==D?(T=l.jsx(te,{type:"submit",disabled:r,children:D}),e[67]=r,e[68]=D,e[69]=T):T=e[69];let O;e[70]!==F||e[71]!==T?(O=l.jsxs(xe,{children:[F,T]}),e[70]=F,e[71]=T,e[72]=O):O=e[72];let I;e[73]!==Z||e[74]!==p||e[75]!==u||e[76]!==b||e[77]!==v||e[78]!==y||e[79]!==E||e[80]!==O?(I=l.jsxs(ue,{className:"sm:max-w-[500px] w-full max-h-[90vh] overflow-y-auto",children:[U,l.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[p,u,b,v,y,E,O]})]}),e[73]=Z,e[74]=p,e[75]=u,e[76]=b,e[77]=v,e[78]=y,e[79]=E,e[80]=O,e[81]=I):I=e[81];let W;return e[82]!==z||e[83]!==o||e[84]!==I?(W=l.jsx(ge,{open:z,onOpenChange:o,children:I}),e[82]=z,e[83]=o,e[84]=I,e[85]=W):W=e[85],W}function ve(n){return l.jsx(oe,{value:n.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${n.color}`}),n.label]})},n.value)}function ye(n){return l.jsx(oe,{value:n.id.toString(),children:n.name},n.id)}export{Ke as ComposeModal};
