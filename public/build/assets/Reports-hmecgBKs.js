import{c as V,j as s,H as I,L as J}from"./app-BlZNpJaz.js";import{B as K,T as Q,A as W}from"./app-layout-vfDevXcM.js";import{a as y,b as v,C as w,c as T,d as G}from"./card-DE5xUgg4.js";import{B as X}from"./badge-hQq2_SSh.js";import{b as z,e as U,a as Y,c as P,T as Z,d as ee}from"./table-DRoYhqJ6.js";import{B as se}from"./button-BFaAQ1F0.js";import{U as te}from"./users-CYmdu12r.js";import{T as O}from"./triangle-alert-SVse4Ker.js";import{A as le}from"./arrow-right-cARUCB7f.js";/* empty css            */import"./index-BSNktiLJ.js";import"./utils-CTsRgsKi.js";import"./index-DWBLVih3.js";import"./createLucideIcon-G_Aima0p.js";import"./index-II6TlMg7.js";import"./Combination-CQbiwxas.js";import"./index-ePvy9ijt.js";import"./index-CClcdcON.js";import"./index-DSX7JKB1.js";import"./index-20W_Bwtk.js";import"./index-kh-3lYpY.js";import"./index-jOkOEACf.js";import"./settings-DDioBNBR.js";import"./file-text-BPl73Zr-.js";import"./chevron-right-BaSAJNUd.js";const ae=[{title:"Painel",href:"/professor/dashboard"},{title:"Relatórios",href:"/professor/reports"}];function Be(t){const e=V.c(54),{metrics:l,classPerformance:a,studentsAtRisk:r}=t;let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(I,{title:"Relatórios de Desempenho"}),e[0]=S):S=e[0];let A;e[1]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-blue-900",children:"Relatórios de Desempenho"}),s.jsx("p",{className:"text-muted-foreground",children:"Visão geral da frequência e alunos em risco."})]}),e[1]=A):A=e[1];let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(v,{className:"text-sm font-medium text-blue-800",children:"Total de Alunos"}),s.jsx(te,{className:"h-4 w-4 text-blue-600"})]}),e[2]=R):R=e[2];let i;e[3]!==l.total_students?(i=s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:l.total_students}),e[3]=l.total_students,e[4]=i):i=e[4];let C;e[5]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("p",{className:"text-xs text-blue-600/80",children:"Monitorados nas suas turmas"}),e[5]=C):C=e[5];let c;e[6]!==i?(c=s.jsxs(w,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-100",children:[R,s.jsxs(T,{children:[i,C]})]}),e[6]=i,e[7]=c):c=e[7];let k;e[8]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(v,{className:"text-sm font-medium text-purple-800",children:"Aulas Ministradas"}),s.jsx(K,{className:"h-4 w-4 text-purple-600"})]}),e[8]=k):k=e[8];let n;e[9]!==l.total_classes?(n=s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:l.total_classes}),e[9]=l.total_classes,e[10]=n):n=e[10];let q;e[11]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("p",{className:"text-xs text-purple-600/80",children:"Total de diários registrados"}),e[11]=q):q=e[11];let o;e[12]!==n?(o=s.jsxs(w,{className:"bg-gradient-to-br from-purple-50 to-white border-purple-100",children:[k,s.jsxs(T,{children:[n,q]})]}),e[12]=n,e[13]=o):o=e[13];let B;e[14]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(v,{className:"text-sm font-medium text-green-800",children:"Frequência Global"}),s.jsx(Q,{className:"h-4 w-4 text-green-600"})]}),e[14]=B):B=e[14];let m;e[15]!==l.average_attendance?(m=s.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[l.average_attendance,"%"]}),e[15]=l.average_attendance,e[16]=m):m=e[16];let $;e[17]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("p",{className:"text-xs text-green-600/80",children:"Média de todas as turmas"}),e[17]=$):$=e[17];let d;e[18]!==m?(d=s.jsxs(w,{className:"bg-gradient-to-br from-green-50 to-white border-green-100",children:[B,s.jsxs(T,{children:[m,$]})]}),e[18]=m,e[19]=d):d=e[19];let H;e[20]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(v,{className:"text-sm font-medium text-red-800",children:"Alunos em Risco"}),s.jsx(O,{className:"h-4 w-4 text-red-600"})]}),e[20]=H):H=e[20];let x;e[21]!==l.risk_count?(x=s.jsx("div",{className:"text-2xl font-bold text-red-900",children:l.risk_count}),e[21]=l.risk_count,e[22]=x):x=e[22];let M;e[23]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("p",{className:"text-xs text-red-600/80",children:"Frequência menor que 75%"}),e[23]=M):M=e[23];let h;e[24]!==x?(h=s.jsxs(w,{className:"bg-gradient-to-br from-red-50 to-white border-red-100",children:[H,s.jsxs(T,{children:[x,M]})]}),e[24]=x,e[25]=h):h=e[25];let f;e[26]!==o||e[27]!==d||e[28]!==h||e[29]!==c?(f=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c,o,d,h]}),e[26]=o,e[27]=d,e[28]=h,e[29]=c,e[30]=f):f=e[30];let D;e[31]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs(y,{children:[s.jsx(v,{children:"Desempenho por Turma"}),s.jsx(G,{children:"Média de frequência comparativa."})]}),e[31]=D):D=e[31];let p;e[32]!==a?(p=a.map(ie),e[32]=a,e[33]=p):p=e[33];let u;e[34]!==a.length?(u=a.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma turma encontrada."}),e[34]=a.length,e[35]=u):u=e[35];let j;e[36]!==p||e[37]!==u?(j=s.jsxs(w,{className:"h-full",children:[D,s.jsxs(T,{className:"space-y-6",children:[p,u]})]}),e[36]=p,e[37]=u,e[38]=j):j=e[38];let E;e[39]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(y,{className:"border-b bg-red-50/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-5 w-5 text-red-600"}),s.jsx(v,{className:"text-red-900",children:"Alunos em Atenção"})]}),s.jsx(G,{children:"Estudantes com baixa frequência (< 75%)."})]}),e[39]=E):E=e[39];let F;e[40]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(Y,{children:s.jsxs(z,{className:"hover:bg-transparent",children:[s.jsx(P,{className:"pl-6",children:"Aluno"}),s.jsx(P,{children:"Motivo"}),s.jsx(P,{className:"text-right pr-6",children:"Ação"})]})}),e[40]=F):F=e[40];let b;e[41]!==r?(b=r.map(re),e[41]=r,e[42]=b):b=e[42];let N;e[43]!==r.length?(N=r.length===0&&s.jsx(z,{children:s.jsx(U,{colSpan:3,className:"text-center py-8 text-muted-foreground",children:"Nenhum aluno em situação de risco no momento."})}),e[43]=r.length,e[44]=N):N=e[44];let g;e[45]!==b||e[46]!==N?(g=s.jsxs(w,{className:"h-full",children:[E,s.jsx(T,{className:"p-0",children:s.jsxs(Z,{children:[F,s.jsxs(ee,{children:[b,N]})]})})]}),e[45]=b,e[46]=N,e[47]=g):g=e[47];let _;e[48]!==j||e[49]!==g?(_=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[j,g]}),e[48]=j,e[49]=g,e[50]=_):_=e[50];let L;return e[51]!==f||e[52]!==_?(L=s.jsxs(W,{breadcrumbs:ae,children:[S,s.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-8",children:[A,f,_]})]}),e[51]=f,e[52]=_,e[53]=L):L=e[53],L}function re(t){return s.jsxs(z,{children:[s.jsxs(U,{className:"pl-6",children:[s.jsx("div",{className:"font-medium",children:t.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.class_name})]}),s.jsx(U,{children:s.jsxs(X,{variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:[t.value," Freq."]})}),s.jsx(U,{className:"text-right pr-6",children:s.jsx(se,{size:"sm",variant:"ghost",asChild:!0,className:"h-8 w-8 p-0",children:s.jsx(J,{href:`/professor/classes/${t.class_room_id}/students/${t.id}?subject_id=${t.subject_id}`,children:s.jsx(le,{className:"h-4 w-4 text-slate-400 hover:text-blue-600"})})})})]},t.id+t.class_room_id)}function ie(t){return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"font-medium text-slate-700",children:[t.name," ",s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.grade,")"]})]}),s.jsxs("span",{className:"font-bold text-slate-900",children:[t.attendance_rate,"%"]})]}),s.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${t.attendance_rate>=80?"bg-blue-500":t.attendance_rate>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.attendance_rate}%`}})})]},t.id)}export{Be as default};
